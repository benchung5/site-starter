{"version":3,"sources":["webpack:///./src/js/react-app/actions/categories/index.js","webpack:///./src/js/react-app/components/admin/auth/require_auth.js","webpack:///./src/js/react-app/components/admin/sidebar.js"],"names":["env","process","SERVER_URL","require","addCategory","formData","dispatch","axios","post","then","response","data","error","addCategoryError","type","ADD_CATEGORY","payload","catch","err","fetchCategories","get","FETCH_CATEGORIES","console","log","deleteCategory","slug","getCategory","GET_CATEGORY","updateCategory","updateCategoryError","UPDATE_CATEGORY","clearUpdateCategory","clearCategory","ADD_CATEGORY_ERROR","ComposedComponent","Authentication","props","authenticated","history","push","globals","ADMIN_URL","nextProps","Component","mapStateToProps","state","auth","connect","SideMenu","linkList","title","link","active","linkListClone","cloneDeep","forEach","item","index","window","location","pathname","setState","e","map","onLinkClick","bind","renderButtons"],"mappings":"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","file":"0.react.js","sourcesContent":["import axios from 'axios';\n//config\nconst env = process.env.NODE_ENV || \"development\";\nvar { SERVER_URL } = require('../../config')[env];\nimport {\n\tADD_CATEGORY,\n\tADD_CATEGORY_ERROR,\n\tFETCH_CATEGORIES,\n\tDELETE_CATEGORY,\n\tGET_CATEGORY,\n\tUPDATE_CATEGORY\n} from '../types';\n\nexport function addCategory(formData) {\n\treturn function(dispatch) {\n\t\t// post to: http://localhost:8080/api/categories/create\n\t\taxios.post(`${SERVER_URL}/categories/create`, formData)\n\t\t.then(response => {\n\t\t\tif(response.data.error) {\n\t\t\t\tdispatch(addCategoryError(`there was an error adding the category: ${response.data.error}`));\n\t\t\t} else {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: ADD_CATEGORY,\n\t\t\t\t\tpayload: response.data\n\t\t\t\t});\n\t\t\t}\n\t\t})\n\t\t.catch((err) => {\n\t\t\t//todo: if request is bad\n\t\t\tdispatch(addCategoryError(`there was an error adding the category: ${err}`));\n\t\t});\n\t}\n}\n\nexport function fetchCategories() {\n\treturn function(dispatch) {\n\t\taxios.get(`${SERVER_URL}/categories/all`)\n\t\t.then((response) => {\n\t\t\tdispatch({\n\t\t\t\ttype: FETCH_CATEGORIES,\n\t\t\t\tpayload: response.data\n\t\t\t});\n\t\t}).catch((err) => {\n\t\t\tconsole.log('error fetching categories: ', err);\n\t\t});\n\n\t}\n}\n\nexport function deleteCategory({ slug }) {\n\treturn function(dispatch) {\n\t\taxios.post(`${SERVER_URL}/categories/delete`, { slug })\n\t\t.then((response) => {\n\t\t\tif(response.data.error) {\n\t\t\t\tconsole.log('error: ', response.data.error);\n\t\t\t} else {\n\t\t\t\tdispatch(fetchCategories());\n\t\t\t}\n\t\t}).catch((err) => {\n\t\t\tconsole.log('error deleting the category: ', err);\n\t\t});\n\t}\n}\n\nexport function getCategory(slug) {\n\treturn function(dispatch) {\n\t\taxios.get(`${SERVER_URL}/categories/single/${slug}`)\n\t\t\t.then((response) => {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: GET_CATEGORY,\n\t\t\t\t\tpayload: response.data\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log('error getting category: ', err);\n\t\t\t});\n\t\t}\n}\n\nexport function updateCategory(formData) {\n\treturn function(dispatch){\n\t\taxios.post(`${SERVER_URL}/categories/update`, formData)\n\t\t\t.then((response) => {\n\t\t\t\tif(response.data.error) {\n\t\t\t\t\tdispatch(updateCategoryError(`there was an error updating the category: ${response.data.error}`));\n\t\t\t\t} else {\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: UPDATE_CATEGORY,\n\t\t\t\t\t\tpayload: response.data\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log('error upating category: ', err);\n\t\t\t});\n\t}\n\n}\n\nexport function clearUpdateCategory() {\n\treturn {\n\t\ttype: UPDATE_CATEGORY,\n\t\tpayload: ''\n\t}\n}\n\nexport function clearCategory() {\n\treturn {\n\t\ttype: ADD_CATEGORY,\n\t\tpayload: ''\n\t}\n}\n\nexport function addCategoryError(error) {\n    return {\n        type: ADD_CATEGORY_ERROR,\n        payload: error\n    }\n}","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport { globals } from '../../../config.js';\n// import PropTypes from \"prop-types\";\n\n//this is a higher order component (HOC) that wraps the incomming component \n//and attaches additional functionality to it\nexport default function (ComposedComponent) {\n    class Authentication extends Component {\n\n        // comment out these two blocks to disable auth\n        //if not authenticated at start, push to the home page\n        componentWillMount() {\n            if (!this.props.authenticated) {\n                //this.context.router.push('/protected');\n                this.props.history.push('/'+globals.ADMIN_URL+'/protected');\n            }\n        } \n        //this one fires when component is updated\n        componentWillUpdate(nextProps) {\n            if (!nextProps.authenticated) {\n                //this.context.router.push('/protected');\n                this.props.history.push('/'+globals.ADMIN_URL+'/protected');\n            }\n        }\n        \n        render() {\n            //the this.props is for passing up new props from the combined component *instance to \n            //existing props on the original composed component below\n            return <ComposedComponent {...this.props} />\n        }\n    }\n    \n    function mapStateToProps(state) {\n        return {authenticated: state.auth.authenticated};\n    }\n    \n    return connect(mapStateToProps)(Authentication);\n}\n\n////example usage of this HOC\n// import Authenticatoin // this is the HOC\n// import Resources // this is the component to wraps\n// const ComposedComponent = Authentication(Resources);\n//// in some render method...\n// <ComposedComponent resources={resourceList}>\n","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { globals } from '../../config.js';\n\nclass SideMenu extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            linkList: [\n                { title: 'Website', link: '/', active: false },\n                { title: 'Logout', link: '/'+globals.ADMIN_URL+'/signout', active: false },\n                { title: 'Dashboard', link: '/'+globals.ADMIN_URL+'', active: false },\n                { title: 'View Articles', link: '/'+globals.ADMIN_URL+'/articles-list', active: false },\n                { title: 'Add Articles', link: '/'+globals.ADMIN_URL+'/article-add', active: false },\n                { title: 'View Plants', link: '/'+globals.ADMIN_URL+'/trees-list', active: false },\n                { title: 'Add Plants', link: '/'+globals.ADMIN_URL+'/tree-add', active: false },\n                { title: 'View Users', link: '/'+globals.ADMIN_URL+'/users-list', active: false },\n                { title: 'Add User', link: '/'+globals.ADMIN_URL+'/signup', active: false },\n                { title: 'View Categories', link: '/'+globals.ADMIN_URL+'/category-list', active: false },\n                { title: 'Add Category', link: '/'+globals.ADMIN_URL+'/category-add', active: false },\n                { title: 'Backup', link: '/'+globals.ADMIN_URL+'/backup', active: false },\n            ]\n        }\n    }\n\n\n    componentDidMount() {\n        //check url and highlight accordingly\n        let linkListClone = cloneDeep(this.state.linkList);\n        linkListClone.forEach((item, index) => {\n\n            //set all to inactive at first\n            if (item.active) {\n                item.active = false;\n            }\n            //if url path equals link, activate it\n            if (item.link === window.location.pathname) {\n                item.active = true;\n            }\n        });\n        this.setState({ linkList: linkListClone });\n    }\n\n    onLinkClick(e) {\n    }\n\n    renderButtons() {\n        return this.state.linkList.map((item, index) => {\n            //title to lowercase, replace slashes with dashes\n            return (\n                    <li key={index} className={`${item.active ? 'active' : ''}`}>\n                        <Link onClick={this.onLinkClick.bind(this)}  className={`nav-link`} to={item.link} data-id={index}>{item.title}</Link>\n                    </li>\n                )\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"columns small-12 large-3 admin-sidebar\">\n                <ul className=\"vertical menu admin-side-menu\">\n                    {this.renderButtons()}\n                </ul>\n            </div>\n        )\n    }\n\n}\n\nexport default SideMenu;"],"sourceRoot":""}