{"version":3,"sources":["webpack:///./src/js/react-app/actions/articles/index.js","webpack:///./src/js/react-app/actions/tags/index.js","webpack:///./src/js/react-app/components/admin/articles/article_fields.js"],"names":["env","process","SERVER_URL","require","fetchArticles","dispatch","axios","get","then","response","type","FETCH_ARTICLES","payload","data","Promise","resolve","catch","err","console","log","getArticle","slug","category","themes","images","GET_ARTICLE","addArticle","formData","config","headers","post","error","addArticleError","ADD_ARTICLE","updateArticle","updateArticleError","UPDATE_ARTICLE","deleteArticle","article","search","offset","limit","getState","searchArticles","global","duplicateArticle","clearArticle","clearArticleError","ADD_ARTICLE_ERROR","clearUpdateArticle","UPDATE_ARTICLE_ERROR","addCategory","addCategoryError","ADD_TAG","fetchTags","FETCH_TAGS","deleteCategory","getCategory","GET_TAG","updateCategory","updateCategoryError","UPDATE_TAG","clearUpdateCategory","clearCategory","ADD_TAG_ERROR","ArticleFields","props","renderField","onInputChange","renderMultiSelect","categories","tags","editBox","Component"],"mappings":"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","file":"5.react.js","sourcesContent":["import axios from 'axios';\r\nimport { searchArticles } from '../global';\r\n//config\r\nconst env = process.env.NODE_ENV || \"development\";\r\nvar {SERVER_URL} = require('../../config')[env];\r\n\r\n\r\nimport {\r\n    FETCH_ARTICLES,\r\n    ADD_ARTICLE,\r\n    UPDATE_ARTICLE,\r\n    GET_ARTICLE,\r\n    ADD_ARTICLE_ERROR,\r\n    UPDATE_ARTICLE_ERROR,\r\n    SEARCH_ARTICLES_ADMIN\r\n    } from '../types';\r\n\r\nexport function fetchArticles() {\r\n    return function(dispatch) {\r\n        axios.get(`${SERVER_URL}/articles/all`)\r\n        .then(response => {\r\n\r\n            dispatch({\r\n                type: FETCH_ARTICLES,\r\n                payload: response.data\r\n             });\r\n            return Promise.resolve();\r\n\r\n        })\r\n        .catch((err) => {\r\n            console.log('error fetching articles', err);\r\n            //todo: if request is bad\r\n            // dispatch(fetchArticlesError('response.data.error'));\r\n        });\r\n    }\r\n}\r\n\r\nexport function getArticle(slug) {\r\n    return function(dispatch) {\r\n        axios.get(`${SERVER_URL}/articles/single/${slug}`)\r\n        .then(response => {\r\n            //if no response data, return a formatted object\r\n            let data = {};\r\n            if (!response.data ) {\r\n                data = {\r\n                    category: [],\r\n                    themes: [],\r\n                    // make images null so we know it's an intentional clear\r\n                    // an empty array makes it show the placeholder image\r\n                    images: null\r\n                }\r\n            } else {\r\n                data = response.data;\r\n            }\r\n            \r\n            dispatch({\r\n                type: GET_ARTICLE,\r\n                payload: data\r\n             });\r\n        })\r\n        .catch((err) => {\r\n            console.log('error getting article: ', err);\r\n        });\r\n    }\r\n}\r\n\r\nexport function addArticle(formData) {\r\n    //needed for image file submission\r\n    const config = {\r\n        headers: { 'content-type': 'multipart/form-data' }\r\n    }\r\n    return function(dispatch) {\r\n        axios.post( `${SERVER_URL}/articles/create`, formData, config )\r\n        .then( response => {\r\n            if(response.data.error) {\r\n                dispatch(addArticleError(`There was an error creating the article: ${response.data.error}`));\r\n            } else {\r\n                dispatch({\r\n                    type: ADD_ARTICLE,\r\n                    payload: response.data\r\n                });\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            dispatch(addArticleError(`there was an error creating the article: ${err}`));\r\n        });\r\n    }\r\n}\r\n\r\nexport function updateArticle(formData) {\r\n    //needed for image file submission\r\n    const config = {\r\n        headers: { 'content-type': 'multipart/form-data' }\r\n    }\r\n    return function(dispatch) {\r\n        // post to http://192.168.99.100/api/articles/update\r\n        axios.post( `${SERVER_URL}/articles/update`, formData, config )\r\n        .then( response => {\r\n            if(response.data.error) {\r\n                dispatch(updateArticleError(`there was an error updating the article: ${response.data.error}`));\r\n            } else {\r\n                dispatch({\r\n                    type: UPDATE_ARTICLE,\r\n                    payload: response.data\r\n                });\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log('there was an error updating the article: ', err);\r\n            //dispatch(updateArticleError(`there was an error updating the article: ${err}`));\r\n        });\r\n    }\r\n}\r\n\r\nexport function deleteArticle(article, search, offset, limit) {\r\n        return function(dispatch, getState) {\r\n        // post to http://192.168.99.100/articles/delete\r\n        axios.post( `${SERVER_URL}/articles/delete`, { article } )\r\n        .then( response => {\r\n            if(response.data.error) {\r\n                console.log('error: ', response.data.error);\r\n                //dispatch(deleteArticleError(`there was an error deleting the article: ${response.data.error}`));\r\n            } else {\r\n                //get the new list of articles now that one is deleted\r\n                dispatch(searchArticles(getState().global));\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log('error deleting the article: ', err);\r\n        });\r\n    }\r\n}\r\n\r\nexport function duplicateArticle(slug, search, offset, limit) {\r\n        return function(dispatch) {\r\n        // post to http://192.168.99.100/articles/delete\r\n        axios.post( `${SERVER_URL}/articles/duplicate`, { slug } )\r\n        .then( response => {\r\n            if(response.data.error) {\r\n                console.log('error: ', response.data.error);\r\n                //dispatch(duplicateArticleError(`there was an error duplicating the article: ${response.data.error}`));\r\n            } else {\r\n                //get the new list of articles now that one is deleted\r\n                dispatch(searchArticles(getState().global()));\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log('error duplicating the article: ', err);\r\n        });\r\n    }\r\n}\r\n\r\nexport function clearArticle() {\r\n    return {\r\n        type: ADD_ARTICLE,\r\n        payload: ''\r\n    }\r\n}\r\n\r\nexport function clearArticleError(error) {\r\n    return {\r\n        type: ADD_ARTICLE_ERROR,\r\n        payload: ''\r\n    }\r\n}\r\n\r\nexport function clearUpdateArticle() {\r\n    return {\r\n        type: UPDATE_ARTICLE,\r\n        payload: ''\r\n    }\r\n}\r\n\r\nexport function addArticleError(error) {\r\n    return {\r\n        type: ADD_ARTICLE_ERROR,\r\n        payload: error\r\n    }\r\n}\r\n\r\nexport function updateArticleError(error) {\r\n    return {\r\n        type: UPDATE_ARTICLE_ERROR,\r\n        payload: error\r\n    }\r\n}","import axios from 'axios';\r\n//config\r\nconst env = process.env.NODE_ENV || \"development\";\r\nvar { SERVER_URL } = require('../../config')[env];\r\nimport {\r\n\tADD_TAG,\r\n\tADD_TAG_ERROR,\r\n\tFETCH_TAGS,\r\n\tDELETE_TAG,\r\n\tGET_TAG,\r\n\tUPDATE_TAG\r\n} from '../types';\r\n\r\nexport function addCategory(formData) {\r\n\treturn function(dispatch) {\r\n\t\t// post to: http://localhost:8080/api/tags/create\r\n\t\taxios.post(`${SERVER_URL}/tags/create`, formData)\r\n\t\t.then(response => {\r\n\t\t\tif(response.data.error) {\r\n\t\t\t\tdispatch(addCategoryError(`there was an error adding the tag: ${response.data.error}`));\r\n\t\t\t} else {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ADD_TAG,\r\n\t\t\t\t\tpayload: response.data\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\t//todo: if request is bad\r\n\t\t\tdispatch(addCategoryError(`there was an error adding the tag: ${err}`));\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function fetchTags() {\r\n\treturn function(dispatch) {\r\n\t\taxios.get(`${SERVER_URL}/tags/all`)\r\n\t\t.then((response) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: FETCH_TAGS,\r\n\t\t\t\tpayload: response.data\r\n\t\t\t});\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log('error fetching tags: ', err);\r\n\t\t});\r\n\r\n\t}\r\n}\r\n\r\nexport function deleteCategory({ slug }) {\r\n\treturn function(dispatch) {\r\n\t\taxios.post(`${SERVER_URL}/tags/delete`, { slug })\r\n\t\t.then((response) => {\r\n\t\t\tif(response.data.error) {\r\n\t\t\t\tconsole.log('error: ', response.data.error);\r\n\t\t\t} else {\r\n\t\t\t\tdispatch(fetchTags());\r\n\t\t\t}\r\n\t\t}).catch((err) => {\r\n\t\t\tconsole.log('error deleting the tag: ', err);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function getCategory(slug) {\r\n\treturn function(dispatch) {\r\n\t\taxios.get(`${SERVER_URL}/tags/single/${slug}`)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: GET_TAG,\r\n\t\t\t\t\tpayload: response.data\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log('error getting tag: ', err);\r\n\t\t\t});\r\n\t\t}\r\n}\r\n\r\nexport function updateCategory(formData) {\r\n\treturn function(dispatch){\r\n\t\taxios.post(`${SERVER_URL}/tags/update`, formData)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif(response.data.error) {\r\n\t\t\t\t\tdispatch(updateCategoryError(`there was an error updating the tag: ${response.data.error}`));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: UPDATE_TAG,\r\n\t\t\t\t\t\tpayload: response.data\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log('error upating tag: ', err);\r\n\t\t\t});\r\n\t}\r\n\r\n}\r\n\r\nexport function clearUpdateCategory() {\r\n\treturn {\r\n\t\ttype: UPDATE_TAG,\r\n\t\tpayload: ''\r\n\t}\r\n}\r\n\r\nexport function clearCategory() {\r\n\treturn {\r\n\t\ttype: ADD_TAG,\r\n\t\tpayload: ''\r\n\t}\r\n}\r\n\r\nexport function addCategoryError(error) {\r\n    return {\r\n        type: ADD_TAG_ERROR,\r\n        payload: error\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Field } from 'redux-form';\r\nimport renderField from '../parts/form_fields';\r\nimport editBox from '../parts/edit_box';\r\n//import renderDropdownSelect from '../parts/field_dropdownSelect';\r\nimport renderMultiSelect from '../parts/field_multiSelect';\r\n\r\nclass ArticleFields extends Component  {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n            <Field\r\n                type=\"input\"\r\n                label=\"name:\"\r\n                name=\"name\"\r\n                component={renderField}\r\n                onChange={this.props.onInputChange}\r\n                onFocus={this.props.onInputChange}\r\n            />\r\n            <Field\r\n              label=\"slug:\"\r\n              name=\"slug\"\r\n              component={renderField}\r\n              onChange={this.props.onInputChange}\r\n              onFocus={this.props.onInputChange}\r\n            />\r\n            <Field\r\n                name=\"categories\"\r\n                label=\"categories\"\r\n                component={renderMultiSelect}\r\n                selectItems={this.props.categories}\r\n                onChange={this.props.onInputChange}\r\n                onFocus={this.props.onInputChange}\r\n            />\r\n            <Field\r\n              name=\"tags\"\r\n              label=\"tags\"\r\n              component={renderMultiSelect}\r\n              selectItems={this.props.tags}\r\n              onChange={this.props.onInputChange}\r\n              onFocus={this.props.onInputChange}\r\n            />\r\n            <Field\r\n                type=\"textarea\"\r\n                label=\"body\"\r\n                name=\"body\"\r\n                component={editBox}\r\n                onChange={this.props.onInputChange}\r\n                onFocus={this.props.onInputChange}\r\n            />\r\n        </div>\r\n      );\r\n  }\r\n}\r\n\r\nexport default ArticleFields;"],"sourceRoot":""}