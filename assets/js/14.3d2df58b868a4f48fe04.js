(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{331:function(e,n,t){"use strict";var o=t(0),a=t.n(o);function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}n.a=function(e){return a.a.createElement("input",r({type:"hidden",className:"form-control"},e.input))}},334:function(e,n,t){"use strict";(function(e){t.d(n,"f",(function(){return i})),t.d(n,"a",(function(){return c})),t.d(n,"g",(function(){return u})),t.d(n,"e",(function(){return l})),t.d(n,"c",(function(){return h})),t.d(n,"d",(function(){return m})),t.d(n,"b",(function(){return f}));var o=t(36),a=t.n(o),r=t(14),s=t(1),p=t(5).production.SERVER_URL;function i(e){return function(n){a.a.get("".concat(p,"/trees/single/").concat(e)).then((function(e){var t={};t=e.data?e.data:{category:[],themes:[],images:null},n({type:s.G,payload:t})})).catch((function(e){console.log("error getting tree: ",e)}))}}function c(e){var n={headers:{"content-type":"multipart/form-data"}};return function(t){a.a.post("".concat(p,"/trees/create"),e,n).then((function(e){e.data.error?t(f("There was an error creating the tree: ".concat(e.data.error))):t({type:s.g,payload:e.data})})).catch((function(e){t(f("there was an error creating the tree: ".concat(e)))}))}}function u(e){var n={headers:{"content-type":"multipart/form-data"}};return function(t){a.a.post("".concat(p,"/trees/update"),e,n).then((function(e){var n;e.data.error?t((n="there was an error updating the tree: ".concat(e.data.error),{type:s.gb,payload:n})):t({type:s.fb,payload:e.data})})).catch((function(e){console.log("there was an error updating the tree: ",e)}))}}function l(e,n,t,o){return function(n,t){a.a.post("".concat(p,"/trees/delete"),{tree:e}).then((function(e){e.data.error?console.log("error: ",e.data.error):n(Object(r.e)(t().globalTrees))})).catch((function(e){console.log("error deleting the tree: ",e)}))}}function h(){return{type:s.g,payload:""}}function m(){return{type:s.fb,payload:""}}function f(e){return{type:s.h,payload:e}}}).call(this,t(32))},342:function(e,n,t){"use strict";t.d(n,"a",(function(){return p}));var o=t(36),a=t.n(o),r=t(1),s=t(5).production.SERVER_URL;function p(){return function(e){a.a.get("".concat(s,"/tree_tables/all")).then((function(n){e({type:r.z,payload:n.data})})).catch((function(e){console.log("error fetching origins: ",e)}))}}},343:function(e,n,t){"use strict";var o=t(0),a=t.n(o),r=t(92),s=t(329),p=t(335);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}).apply(this,arguments)}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function l(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function h(e,n){return!n||"object"!==i(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,n){return(f=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var g=function(e){function n(){return u(this,n),h(this,m(n).apply(this,arguments))}var t,o,r;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&f(e,n)}(n,e),t=n,(o=[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"renderSelectOptions",value:function(){return this.props.selectItems.map((function(e){return a.a.createElement("option",{key:e.id,value:e.id},e.name)}))}},{key:"render",value:function(){console.log(this.props.customProps);var e=this.props,n=e.meta,t=n.touched,o=n.error,r=e.input,s=e.label;return a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:s},s),a.a.createElement("select",c({className:"dropdown-select",value:r.value,onChange:this.handleChange},r),this.renderSelectOptions()),a.a.createElement("div",{className:"error"},t?o:""))}}])&&l(t.prototype,o),r&&l(t,r),n}(o.Component),b=t(336),d=t(331);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function I(e,n){return!n||"object"!==y(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,n){return(E=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var _=function(e){function n(e){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),I(this,v(n).call(this,e))}var t,o,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&E(e,n)}(n,e),t=n,(o=[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(r.a,{name:"tree_id",component:d.a,value:this.props.treeId}),a.a.createElement(r.a,{type:"input",label:"common name",name:"common_name",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{type:"input",label:"other common names",name:"other_common_names",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"slug",name:"slug",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"genus_id",label:"genus",component:g,selectItems:this.props.treeTables.genuses,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"specific epithet",name:"specific_epithet",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"other species",name:"other_species",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"subspecies",name:"subspecies",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"variety",name:"variety",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"cultivar",name:"cultivar",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"trees_category_id",label:"category",component:g,selectItems:this.props.treeTables.trees_category,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"zone",name:"zone_id",component:g,selectItems:this.props.treeTables.zones,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"origins",label:"ecoregions",component:b.a,selectItems:this.props.treeTables.origins,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"eco_benefits",label:"eco benefits",component:b.a,selectItems:this.props.treeTables.eco_benefits,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"native_to",label:"native to",component:b.a,selectItems:this.props.treeTables.native_to,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"natural_habitat",label:"natural habitat",component:b.a,selectItems:this.props.treeTables.natural_habitat,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"shapes",label:"shapes",component:b.a,selectItems:this.props.treeTables.shapes,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"light",label:"light",component:b.a,selectItems:this.props.treeTables.light,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"height min",name:"height_min",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"height max",name:"height_max",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"width min",name:"width_min",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"width max",name:"width_max",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"growth rate",name:"growth_rate",component:g,selectItems:[{id:"slow",slug:"slow",name:"slow"},{id:"medium",slug:"medium",name:"medium"},{id:"fast",slug:"fast",name:"fast"}],onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"lifespan min",name:"lifespan_min",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{label:"lifespan max",name:"lifespan_max",component:s.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"soil",label:"soil",component:b.a,selectItems:this.props.treeTables.soil,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"common_uses",label:"common uses",component:b.a,selectItems:this.props.treeTables.common_uses,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"transplanting",label:"transplanting",component:b.a,selectItems:this.props.treeTables.transplanting,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"unique_attractions",label:"unique attractions",component:b.a,selectItems:this.props.treeTables.unique_attractions,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"tolerances",label:"tolerances",component:b.a,selectItems:this.props.treeTables.tolerances,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"reproduction_type_id",label:"reproduction types",component:g,selectItems:this.props.treeTables.reproduction_types,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"insects",label:"insects",component:b.a,selectItems:this.props.treeTables.insects,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{name:"diseases",label:"diseases",component:b.a,selectItems:this.props.treeTables.diseases,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),a.a.createElement(r.a,{type:"textarea",label:"body",name:"body",component:p.a,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}))}}])&&C(t.prototype,o),i&&C(t,i),n}(o.Component);n.a=_},371:function(e,n,t){"use strict";t.r(n);var o=t(0),a=t.n(o),r=t(93),s=t(55),p=t(6),i=t(334),c=t(342),u=t(326),l=t(338),h=t(337),m=t(328),f=t(343);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,n){return!n||"object"!==g(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,n){return(C=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var I=function(e){function n(e){var t;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(t=d(this,y(n).call(this,e))).state={recentValue:""},t}var t,o,r;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&C(e,n)}(n,e),t=n,(o=[{key:"componentWillMount",value:function(){this.props.fetchTreeTables()}},{key:"componentWillReceiveProps",value:function(e){e.location!==this.props.location&&(this.props.reset("tree-add"),this.clearMessages())}},{key:"componentDidUpdate",value:function(e){this.props.treeAdded&&e.treeAdded!==this.props.treeAdded&&this.props.addTreeError("")}},{key:"componentWillUnmount",value:function(){this.clearMessages()}},{key:"clearMessages",value:function(){this.props.clearTree(),this.props.addTreeError("")}},{key:"handleFormSubmit",value:function(e){var n;n=Object(h.b)(e,["origins","eco_benefits","native_to","shapes","light","soil","natural_habitat","common_uses","transplanting","unique_attractions","tolerances","insects","diseases"]),this.props.addTree(Object(h.a)("images",n))}},{key:"renderAdded",value:function(){if(this.props.treeAdded&&!this.props.errorMessage)return a.a.createElement("div",{className:"submission-message"},a.a.createElement("span",null,"Tree: ",this.props.treeAdded.common_name,a.a.createElement("br",null),"successfully added. "))}},{key:"renderError",value:function(){return this.props.errorMessage?a.a.createElement("div",{className:"alert alert-danger"},a.a.createElement("strong",null,"Oops!")," ",this.props.errorMessage):this.customError?a.a.createElement("div",{className:"alert alert-danger"},a.a.createElement("strong",null,"Oops!")," ",this.customError):void 0}},{key:"onInputChange",value:function(){this.clearMessages()}},{key:"render",value:function(){var e=this.props.handleSubmit;return a.a.createElement("div",{className:"admin-main"},a.a.createElement("div",{className:"row"},a.a.createElement(u.a,null),a.a.createElement("div",{className:"main-window columns small-12 large-9"},a.a.createElement("h3",null,"Add Plant"),a.a.createElement("form",{onSubmit:e(this.handleFormSubmit.bind(this))},a.a.createElement(f.a,{onInputChange:this.onInputChange.bind(this),treeTables:this.props.treeTables}),a.a.createElement(l.a,{name:"images",classNameLabel:"file-input-label",onChange:this.onInputChange.bind(this),tags:this.props.treeTables.tags}),a.a.createElement("button",{action:"submit",className:"btn btn-primary"},"Submit")),this.renderAdded(),this.renderError())))}}])&&b(t.prototype,o),r&&b(t,r),n}(o.Component);n.default=Object(m.a)(Object(r.a)({validate:function(e){var n={};return e.name||(n.name="Please enter a name"),e.slug||(n.slug="Please enter a slug"),n},form:"tree-add",fields:["name","slug","files"]})(Object(p.b)((function(e){return{treeAdded:e.tree.treeAdded,errorMessage:e.tree.addTreeError,treeTables:e.treeTables.all}}),{addTree:i.a,clearTree:i.c,addTreeError:i.b,fetchTreeTables:c.a,reset:s.b})(I)))}}]);