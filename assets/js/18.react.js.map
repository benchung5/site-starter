{"version":3,"sources":["webpack:///./node_modules/lodash/cloneDeep.js","webpack:///./src/js/react-app/components/admin/trees/trees_list.js"],"names":["env","process","SERVER_URL","require","TreesIndex","props","state","searchTrees","dispatch","globalFilterData","event","slug","target","getAttribute","id","searchResults","offset","limit","actions","parseInt","prevProps","trees","map","tree","common_name","onDeleteTreeClick","bind","globals","ADMIN_URL","renderTrees","Component","mapStateToProps","globalTrees","treeDeleted","RequireAuth","connect"],"mappings":"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","file":"18.react.js","sourcesContent":["var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Sidebar from '../sidebar';\r\nimport { Link } from 'react-router-dom';\r\nimport * as actions from '../../../actions/trees';\r\nimport RequireAuth from '../auth/require_auth';\r\nimport SearchTrees from '../../search_trees';\r\nimport PaginationTrees from '../../parts/pagination_trees';\r\nimport { globals } from '../../../config.js';\r\nimport { searchTrees } from '../../../actions/globalTrees';\r\n\r\n//config\r\nconst env = process.env.NODE_ENV || \"development\";\r\nvar { SERVER_URL } = require('../../../config')[env];\r\n\r\nclass TreesIndex extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.searchTrees();\r\n    }\r\n\r\n    // componentWillReceiveProps(nextProps) {\r\n    //   // if newly navigated from the router link...\r\n    //   if((nextProps.location !== this.props.location) && nextProps.location.key) {\r\n    //     this.searchTrees();\r\n    //   }\r\n    // }\r\n\r\n    searchTrees() {\r\n        this.props.dispatch(searchTrees(this.props.globalFilterData));\r\n    }\r\n\r\n    onDeleteTreeClick(event) {\r\n        let slug = event.target.getAttribute(\"data-slug\");\r\n        let id = event.target.getAttribute(\"data-id\");\r\n        const { offset, limit } = this.props.searchResults;\r\n        //slug, search, offset, limit\r\n        //todo: get [] to use real stored search if any\r\n        this.props.dispatch(actions.deleteTree({id: parseInt(id), slug: slug}, [], offset, limit));\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        //fire the updated globalFilterData to the search action whenever the themes or categores get updated\r\n        if(this.props.globalFilterData && (prevProps.globalFilterData !==  this.props.globalFilterData)) {\r\n            this.searchTrees();\r\n        }\r\n    }\r\n    \r\n    renderTrees() {\r\n        return this.props.searchResults.trees.map((tree) => {\r\n            return (\r\n                <li className=\"list-group-item\" key={tree.id}>\r\n                    <span>{tree.common_name}</span>\r\n                    <a href=\"#\" data-id={tree.id} data-slug={tree.slug} onClick={this.onDeleteTreeClick.bind(this)}>Delete</a>\r\n                    <Link to={`/${globals.ADMIN_URL}/trees-list/${tree.slug}`}>edit</Link>\r\n                </li>\r\n            );\r\n        });\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"admin-main\">\r\n                <div className=\"row\">\r\n                    <Sidebar/>\r\n                    <div className=\"main-window columns small-12 large-9\">\r\n                        <h3>Trees</h3>\r\n                        <SearchTrees\r\n                            placeholder=\"search\"\r\n                            hasButton={false}\r\n                        />\r\n                        <ul className=\"list-group item-list\">\r\n                            {this.renderTrees()}\r\n                        </ul>\r\n                        <PaginationTrees />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        searchResults: state.trees.searchResults,\r\n        globalFilterData: state.globalTrees,\r\n        treeDeleted: state.tree.treeDeleted,\r\n    };\r\n}\r\n\r\nexport default RequireAuth(connect(mapStateToProps)(TreesIndex));"],"sourceRoot":""}