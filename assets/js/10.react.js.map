{"version":3,"sources":["webpack:///./node_modules/lodash/cloneDeep.js","webpack:///./src/js/react-app/actions/auth/index.js","webpack:///./src/js/react-app/components/admin/auth/signout.js","webpack:///./src/js/react-app/components/admin/sidebar.js"],"names":["env","process","SERVER_URL","require","POST_CONFIG","signinUser","email","password","key","dispatch","axios","post","then","response","data","token","type","AUTH_USER","localStorage","setItem","authError","catch","signupUser","error","ADD_USER","payload","err","clearUser","AUTH_ERROR","signoutUser","removeItem","UNAUTH_USER","fetchMessage","get","headers","authorization","getItem","FETCH_MESSAGE","message","Signout","props","Component","connect","actions","SideMenu","state","linkList","title","link","active","globals","ADMIN_URL","linkListClone","cloneDeep","forEach","item","index","window","location","pathname","setState","e","map","onLinkClick","bind","renderButtons"],"mappings":"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","file":"10.react.js","sourcesContent":["var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","import axios from 'axios';\r\nimport history from '../../history';\r\n//config\r\nconst env = process.env.NODE_ENV || \"development\";\r\nvar { SERVER_URL } = require('../../config')[env];\r\nvar { POST_CONFIG } = require('../../config')['globals'];\r\nimport {\r\n  AUTH_USER,\r\n  UNAUTH_USER,\r\n  AUTH_ERROR,\r\n  FETCH_MESSAGE,\r\n  ADD_USER\r\n} from '../types';\r\n\r\nexport function signinUser({ email, password, key }) {\r\n  return function(dispatch) {\r\n    // Submit email/password to the server\r\n    axios.post(`${SERVER_URL}/users/sign_in`, { email, password, key }, POST_CONFIG)\r\n      .then(response => {\r\n        // If request is good...\r\n        if(response.data.token) {\r\n          // - Update state to indicate user is authenticated\r\n          dispatch({ type: AUTH_USER });\r\n          // - Save the JWT token\r\n          localStorage.setItem('token', response.data.token);\r\n        } else {\r\n          // - Show an error to the user\r\n          dispatch(authError('Bad Login Info'));\r\n        }\r\n      })\r\n      .catch(() => {\r\n        // If request is bad...\r\n        // - Show an error to the user\r\n        dispatch(authError('Error logging in'));\r\n      });\r\n  }\r\n}\r\n\r\nexport function signupUser({ email, password }) {\r\n  return function(dispatch) {\r\n    axios.post(`${SERVER_URL}/users/create`, { email, password })\r\n      .then(response => {\r\n        if(response.data.error) {\r\n          dispatch(authError(`there was an error signing up user: ${response.data.error}`));\r\n        } else {\r\n          dispatch({\r\n            type: ADD_USER,\r\n            payload: response.data\r\n          });\r\n          //localStorage.setItem('token', response.data.token);\r\n        }\r\n      })\r\n      .catch(err => dispatch(authError(`there was an error signing up: ${err}`)));\r\n  }\r\n}\r\n\r\nexport function clearUser() {\r\n  return {\r\n    type: ADD_USER,\r\n    payload: ''\r\n  }\r\n}\r\n\r\nexport function authError(error) {\r\n  return {\r\n    type: AUTH_ERROR,\r\n    payload: error\r\n  };\r\n}\r\n\r\nexport function signoutUser() {\r\n  localStorage.removeItem('token');\r\n  return { type: UNAUTH_USER };\r\n}\r\n\r\nexport function fetchMessage() {\r\n  return function(dispatch) {\r\n    axios.get(SERVER_URL, {\r\n      headers: { authorization: localStorage.getItem('token') }\r\n    })\r\n      .then(response => {\r\n        dispatch({\r\n          type: FETCH_MESSAGE,\r\n          payload: response.data.message\r\n        });\r\n      });\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../../../actions/auth';\r\nimport Sidebar from '../sidebar'\r\n\r\nclass Signout extends Component {\r\n  componentWillMount() {\r\n    this.props.signoutUser();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"admin-main\">\r\n      \t<div className=\"row\">\r\n      \t        <Sidebar/>\r\n      \t        <div className=\"main-window columns small-12 large-9\">\r\n      \t        \tYou have been signed out\r\n      \t        </div>\r\n      \t</div>\r\n      </div>\r\n    \t)\r\n  }\r\n}\r\n\r\nexport default connect(null, actions)(Signout);\r\n","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport { globals } from '../../config.js';\r\n\r\nclass SideMenu extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            linkList: [\r\n                { title: 'Website', link: '/', active: false },\r\n                { title: 'Logout', link: '/'+globals.ADMIN_URL+'/signout', active: false },\r\n                { title: 'Dashboard', link: '/'+globals.ADMIN_URL+'', active: false },\r\n                { title: 'View Articles', link: '/'+globals.ADMIN_URL+'/articles-list', active: false },\r\n                { title: 'Add Articles', link: '/'+globals.ADMIN_URL+'/article-add', active: false },\r\n                { title: 'View Plants', link: '/'+globals.ADMIN_URL+'/trees-list', active: false },\r\n                { title: 'Add Plants', link: '/'+globals.ADMIN_URL+'/tree-add', active: false },\r\n                { title: 'View Users', link: '/'+globals.ADMIN_URL+'/users-list', active: false },\r\n                { title: 'Add User', link: '/'+globals.ADMIN_URL+'/signup', active: false },\r\n                { title: 'View Categories', link: '/'+globals.ADMIN_URL+'/category-list', active: false },\r\n                { title: 'Add Category', link: '/'+globals.ADMIN_URL+'/category-add', active: false },\r\n                { title: 'Backup', link: '/'+globals.ADMIN_URL+'/backup', active: false },\r\n            ]\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        //check url and highlight accordingly\r\n        let linkListClone = cloneDeep(this.state.linkList);\r\n        linkListClone.forEach((item, index) => {\r\n\r\n            //set all to inactive at first\r\n            if (item.active) {\r\n                item.active = false;\r\n            }\r\n            //if url path equals link, activate it\r\n            if (item.link === window.location.pathname) {\r\n                item.active = true;\r\n            }\r\n        });\r\n        this.setState({ linkList: linkListClone });\r\n    }\r\n\r\n    onLinkClick(e) {\r\n    }\r\n\r\n    renderButtons() {\r\n        return this.state.linkList.map((item, index) => {\r\n            //title to lowercase, replace slashes with dashes\r\n            return (\r\n                    <li key={index} className={`${item.active ? 'active' : ''}`}>\r\n                        <Link onClick={this.onLinkClick.bind(this)}  className={`nav-link`} to={item.link} data-id={index}>{item.title}</Link>\r\n                    </li>\r\n                )\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"columns small-12 large-3 admin-sidebar\">\r\n                <ul className=\"vertical menu admin-side-menu\">\r\n                    {this.renderButtons()}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default SideMenu;"],"sourceRoot":""}