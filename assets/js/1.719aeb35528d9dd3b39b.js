webpackJsonp([1],{964:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t={};return e.name||(t.name="Please enter a name"),e.slug||(t.slug="Please enter a slug"),t}function c(e){return{treeAdded:e.tree.treeAdded,errorMessage:e.tree.addTreeError,treeTables:e.treeTables.all}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(0),u=o(p),d=n(81),h=n(8),f=n(990),m=n(993),g=n(970),b=o(g),v=n(976),y=o(v),w=n(983),x=n(971),C=o(x),S=n(994),k=o(S),E=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={recentValue:""},n}return i(t,e),s(t,[{key:"componentWillMount",value:function(){this.props.fetchTreeTables()}},{key:"componentWillReceiveProps",value:function(e){e.location!==this.props.location&&(this.props.reset("tree-add"),this.clearMessages())}},{key:"componentDidUpdate",value:function(e){this.props.treeAdded&&e.treeAdded!==this.props.treeAdded&&this.props.addTreeError("")}},{key:"componentWillUnmount",value:function(){this.clearMessages()}},{key:"clearMessages",value:function(){this.props.clearTree(),this.props.addTreeError("")}},{key:"handleFormSubmit",value:function(e){var t=[];t=(0,w.formatOutMultiselects)(e,["origins","eco_benefits","shapes","light","soil","natural_habitat","common_uses","transplanting","unique_attractions","tolerances","insects","diseases"]),this.props.addTree((0,w.createImgFormData)("images",t))}},{key:"renderAdded",value:function(){if(this.props.treeAdded&&!this.props.errorMessage)return u.default.createElement("div",{className:"submission-message"},u.default.createElement("span",null,"Tree: ",this.props.treeAdded.common_name,u.default.createElement("br",null),"successfully added. "))}},{key:"renderError",value:function(){return this.props.errorMessage?u.default.createElement("div",{className:"alert alert-danger"},u.default.createElement("strong",null,"Oops!")," ",this.props.errorMessage):this.customError?u.default.createElement("div",{className:"alert alert-danger"},u.default.createElement("strong",null,"Oops!")," ",this.customError):void 0}},{key:"onInputChange",value:function(){this.clearMessages()}},{key:"render",value:function(){var e=this.props.handleSubmit;return u.default.createElement("div",{className:"admin-main"},u.default.createElement("div",{className:"row"},u.default.createElement(b.default,null),u.default.createElement("div",{className:"columns small-12 large-9"},u.default.createElement("h3",null,"Add Plant"),u.default.createElement("form",{onSubmit:e(this.handleFormSubmit.bind(this))},u.default.createElement(k.default,{onInputChange:this.onInputChange.bind(this),treeTables:this.props.treeTables}),u.default.createElement(y.default,{name:"images",classNameLabel:"file-input-label",onChange:this.onInputChange.bind(this),tags:this.props.treeTables.tags}),u.default.createElement("button",{action:"submit",className:"btn btn-primary"},"Submit")),this.renderAdded(),this.renderError())))}}]),t}(p.Component);t.default=(0,C.default)((0,d.reduxForm)({validate:l,form:"tree-add",fields:["name","slug","files"]})((0,h.connect)(c,{addTree:f.addTree,clearTree:f.clearTree,addTreeError:f.addTreeError,fetchTreeTables:m.fetchTreeTables,reset:d.reset})(E)))},970:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),s=o(c),p=n(195),u=n(196),d=o(u),h=n(13),f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={linkList:[{title:"Website",link:"/",active:!1},{title:"Logout",link:"/"+h.globals.ADMIN_URL+"/signout",active:!1},{title:"Dashboard",link:"/"+h.globals.ADMIN_URL,active:!1},{title:"View Articles",link:"/"+h.globals.ADMIN_URL+"/articles-list",active:!1},{title:"Add Articles",link:"/"+h.globals.ADMIN_URL+"/article-add",active:!1},{title:"View Plants",link:"/"+h.globals.ADMIN_URL+"/trees-list",active:!1},{title:"Add Plants",link:"/"+h.globals.ADMIN_URL+"/tree-add",active:!1},{title:"View Users",link:"/"+h.globals.ADMIN_URL+"/users-list",active:!1},{title:"Add User",link:"/"+h.globals.ADMIN_URL+"/signup",active:!1},{title:"View Categories",link:"/"+h.globals.ADMIN_URL+"/category-list",active:!1},{title:"Add Category",link:"/"+h.globals.ADMIN_URL+"/category-add",active:!1},{title:"Backup",link:"/"+h.globals.ADMIN_URL+"/backup",active:!1}]},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=(0,d.default)(this.state.linkList);e.forEach(function(e,t){e.active&&(e.active=!1),e.link===window.location.pathname&&(e.active=!0)}),this.setState({linkList:e})}},{key:"onLinkClick",value:function(e){}},{key:"renderButtons",value:function(){var e=this;return this.state.linkList.map(function(t,n){return s.default.createElement("li",{key:n,className:t.active?"active":""},s.default.createElement(p.Link,{onClick:e.onLinkClick.bind(e),className:"nav-link",to:t.link,"data-id":n},t.title))})}},{key:"render",value:function(){return s.default.createElement("div",{className:"columns small-12 large-3"},s.default.createElement("ul",{className:"vertical menu admin-side-menu"},this.renderButtons()))}}]),t}(c.Component);t.default=f},971:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=function(e){function t(e){return{authenticated:e.auth.authenticated}}var n=function(t){function n(){return o(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return a(n,t),i(n,[{key:"componentWillMount",value:function(){this.props.authenticated||this.props.history.push("/"+p.globals.ADMIN_URL+"/protected")}},{key:"componentWillUpdate",value:function(e){e.authenticated||this.props.history.push("/"+p.globals.ADMIN_URL+"/protected")}},{key:"render",value:function(){return c.default.createElement(e,this.props)}}]),n}(l.Component);return(0,s.connect)(t)(n)};var l=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(l),s=n(8),p=n(13)},972:function(e,t,n){"use strict";function o(e){var t=e.meta,n=t.touched,o=t.error,a="form-group "+(n&&o?"has-danger":"");return"textarea"===e.type?i.default.createElement("div",{className:a},i.default.createElement("label",null,e.label),i.default.createElement("textarea",r({className:"form-control",rows:"12",cols:"50"},e.input)),i.default.createElement("div",{className:"error"},n?o:"")):i.default.createElement("div",{className:a},i.default.createElement("label",null,e.label),i.default.createElement("input",r({className:"form-control",type:"text"},e.input)),i.default.createElement("div",{className:"error"},n?o:""))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=o},973:function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"===typeof btoa){var a=o(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function o(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o=n(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o}).join("")},t.i=function(e,n){"string"===typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var a=this[r][0];"number"===typeof a&&(o[a]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"===typeof i[0]&&o[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},974:function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=f[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(p(o.parts[a],t))}else{for(var i=[],a=0;a<o.parts.length;a++)i.push(p(o.parts[a],t));f[o.id]={id:o.id,refs:1,parts:i}}}}function r(e,t){for(var n=[],o={},r=0;r<e.length;r++){var a=e[r],i=t.base?a[0]+t.base:a[0],l=a[1],c=a[2],s=a[3],p={css:l,media:c,sourceMap:s};o[i]?o[i].parts.push(p):n.push(o[i]={id:i,parts:[p]})}return n}function a(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=y[y.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function l(e){var t=document.createElement("style");return e.attrs.type="text/css",s(t,e.attrs),a(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",s(t,e.attrs),a(e,t),t}function s(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function p(e,t){var n,o,r,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var s=v++;n=b||(b=l(t)),o=u.bind(null,n,s,!1),r=u.bind(null,n,s,!0)}else e.sourceMap&&"function"===typeof URL&&"function"===typeof URL.createObjectURL&&"function"===typeof URL.revokeObjectURL&&"function"===typeof Blob&&"function"===typeof btoa?(n=c(t),o=h.bind(null,n,t),r=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),o=d.bind(null,n),r=function(){i(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function u(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function d(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function h(e,t,n){var o=n.css,r=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(o=w(o)),r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([o],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}var f={},m=function(e){var t;return function(){return"undefined"===typeof t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return"undefined"===typeof t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),b=null,v=0,y=[],w=n(982);e.exports=function(e,t){if("undefined"!==typeof DEBUG&&DEBUG&&"object"!==typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"===typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=r(e,t);return o(n,t),function(e){for(var a=[],i=0;i<n.length;i++){var l=n[i],c=f[l.id];c.refs--,a.push(c)}if(e){o(r(e,t),t)}for(var i=0;i<a.length;i++){var c=a[i];if(0===c.refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete f[c.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},976:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),p=o(s),u=n(357),d=o(u),h=n(81),f=n(196),m=o(f),g=n(977),b=o(g),v=n(978),y=o(v);n(980);var w=n(358),x=o(w),C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={accepted:[],rejected:[],croppedOut:[],previews:[],errors:[],imgSrc:null,tag_id:"",description:""},n.maxDropCount=10,n.finalcropWidth=400,n.finalcropHeight=400,n.aspectRatio=1,n.cropBoxWidth=200,n.cropBoxHeight=200,n}return i(t,e),c(t,[{key:"componentDidMount",value:function(){HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var o=atob(this.toDataURL(t,n).split(",")[1]),r=o.length,a=new Uint8Array(r),i=0;i<r;i++)a[i]=o.charCodeAt(i);e(new Blob([a],{type:t||"image/jpeg"}))}})}},{key:"componentDidUpdate",value:function(e,t){e.input.value!==this.props.input.value&&""===this.props.input.value&&this.clearImages()}},{key:"componentWillUnmount",value:function(){this.state.accepted.length>0&&this.state.accepted.map(function(e){window.URL.revokeObjectURL(e.preview)})}},{key:"clearImages",value:function(){this.setState({croppedOut:[]}),this.setState({previews:[]})}},{key:"validateFileName",value:function(e){return(0,x.default)(e).replace(/\ +/g,"-").replace(/(\(|\)|'|;)+/g,"")}},{key:"blobToFile",value:function(e){return new File([e],this.validateFileName(this.state.accepted[0].name))}},{key:"onDrop",value:function(e,t){var n=this;this.props.input.onChange(),this.setState({errors:[]}),e.length>this.maxDropCount?(e=[],this.setState({errors:["cannot upload more than "+this.maxDropCount+" image at a time"]},function(){console.log(n.state.errors)})):t.length>0||this.setState({imgSrc:e[0].preview},function(){n.forceUpdate(),n.refs.modal.openModal()}),this.setState({accepted:e,rejected:t})}},{key:"onDropRejected",value:function(){this.setState({errors:["wrong file type"]})}},{key:"onDeleteClick",value:function(e){var t=this,n=(0,m.default)(this.state.croppedOut);n.splice(e,1),this.setState({croppedOut:n},function(){t.props.input.onChange(t.state.croppedOut)});var o=(0,m.default)(this.state.previews);o.splice(e,1),this.setState({previews:o})}},{key:"onCropSubmit",value:function(e){var t=this;e.preventDefault(),this.state.isSubmitting||(this.submitCrop(),this.setState({isSubmitting:!0}),setTimeout(function(){t.setState({isSubmitting:!1})},1e3))}},{key:"submitCrop",value:function(){var e=this;if("undefined"!==typeof this.refs.cropper.getCroppedCanvas()){this.refs.cropper.getCroppedCanvas({width:this.finalcropWidth,height:this.finalcropHeight}).toBlob(function(t){var n=(0,m.default)(e.state.croppedOut);n.push({croppedFile:e.blobToFile(t,e.state.accepted[0].name),originalFile:e.state.accepted[0],tag_id:e.state.tag_id,description:e.state.description}),e.setState({croppedOut:n},function(){e.props.input.onChange(e.state.croppedOut),e.refs.modal.close()});var o=(0,m.default)(e.state.previews);o.push(e.refs.cropper.getCroppedCanvas().toDataURL("image/jpeg")),e.setState({previews:o})},"image/jpeg",.95)}}},{key:"onCropCancel",value:function(e){e.preventDefault(),this.refs.modal.close()}},{key:"onTagChange",value:function(e){this.setState({tag_id:e})}},{key:"onDescChange",value:function(e){this.setState({description:e})}},{key:"renderPreview",value:function(){var e=this;return p.default.createElement("div",{className:"drop-preview-wrapper"},this.state.croppedOut.map(function(t,n){return p.default.createElement("div",{key:t.croppedFile.name+n,className:"drop-preview"},p.default.createElement("a",{href:"#","data-id":t.croppedFile.name,className:"close-btn",onClick:e.onDeleteClick.bind(e,n)}),p.default.createElement("img",{className:"drop-img-preview",src:e.state.previews[n]}),p.default.createElement("div",{className:"desc"},"tag_id: "+t.tag_id))}))}},{key:"renderErrors",value:function(){if(this.state.errors.length>0)return this.state.errors.map(function(e,t){return p.default.createElement("span",{key:t},e)})}},{key:"renderSelectOptions",value:function(){return this.props.tags.map(function(e){return p.default.createElement("option",{key:e.id,value:e.id},e.name)})}},{key:"render",value:function(){var e=this,t=this.props,n=(t.className,t.input.onChange,t.dropzone_options,t.meta),o=(n.error,n.touched,t.classNameLabel,t.children,t.name);t.cbFunction;return p.default.createElement("div",null,p.default.createElement(d.default,{className:"dropzone",name:o,onDrop:this.onDrop.bind(this),onDropRejected:this.onDropRejected.bind(this),accept:"image/jpeg"},p.default.createElement("div",{className:"instructions"},"Drop files here, or click to select files to upload.",p.default.createElement("br",null),"(Only jpeg images will be accepted)")),p.default.createElement(b.default,{ref:"modal"},p.default.createElement(y.default,{className:"cropper",ref:"cropper",src:this.state.imgSrc,style:{width:this.cropBoxWidth,height:this.cropBoxHeight},aspectRatio:this.aspectRatio,zoomable:!1,guides:!1,preview:".img-preview",autoCropArea:1,viewMode:2}),p.default.createElement("select",{className:"dropdown-select",onChange:function(t){return e.onTagChange(t.target.value)},name:"tag_id"},this.renderSelectOptions()),p.default.createElement("input",{type:"text",onChange:function(t){return e.onDescChange(t.target.value)},placeholder:"description",name:"description"}),p.default.createElement("div",{className:"cropper-buttons"},p.default.createElement("button",{className:"btn",onClick:this.onCropSubmit.bind(this)},"crop"),p.default.createElement("button",{className:"btn",onClick:this.onCropCancel.bind(this)},"cancel"))),this.renderErrors(),this.renderPreview())}}]),t}(s.Component);t.default=function(e){return p.default.createElement(h.Field,l({name:"images"},e,{component:C}))}},977:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),s=o(c),p=n(65),u=o(p),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.portal=null,n.inReact=null,n.outReact=null,n.state={},n}return i(t,e),l(t,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this.portal=document.createElement("div"),this.portal.id="modal",this.portal.className="modal",this.portal.className+=" transition-opac",this.portal.className+=" off",this.inReact=document.createElement("div"),this.inReact.className="in-react",this.portal.appendChild(this.inReact),this.props.portalConnect&&(this.outReact=document.createElement("div"),this.outReact.className="out-react",this.portal.appendChild(this.outReact),this.props.portalConnect(this.outReact)),this.renderDialogContent(this.props),document.body.insertBefore(this.portal,document.body.firstChild)}},{key:"componentWillReceiveProps",value:function(e){this.renderDialogContent(e)}},{key:"componentWillUnmount",value:function(){u.default.unmountComponentAtNode(this.portal),document.body.removeChild(this.portal)}},{key:"openModal",value:function(){this.portal.style.display="flex";var e=this;setTimeout(function(){e.portal.className="modal",e.portal.className+=" on"},100)}},{key:"close",value:function(){this.portal.className="modal",this.portal.className+=" off";var e=this;setTimeout(function(){e.portal.style.visibility="hidden",e.portal.style.opacity="0"},100)}},{key:"renderDialogContent",value:function(e){u.default.render(s.default.createElement("div",null,this.props.children),this.inReact)}}]),t}(c.Component);t.default=d},978:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(0),u=o(p),d=n(1),h=o(d),f=n(979),m=o(f),g=["dragMode","aspectRatio","data","crop","viewMode","preview","responsive","restore","checkCrossOrigin","checkOrientation","modal","guides","center","highlight","background","autoCrop","autoCropArea","movable","rotatable","scalable","zoomable","zoomOnTouch","zoomOnWheel","wheelZoomRation","cropBoxMovable","cropBoxResizable","toggleDragModeOnDblclick","minContainerWidth","minContainerHeight","minCanvasWidth","minCanvasHeight","minCropBoxWidth","minCropBoxHeight","ready","cropstart","cropmove","cropend","zoom"],b=g.slice(4),v=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=Object.keys(this.props).filter(function(e){return-1!==g.indexOf(e)}).reduce(function(t,n){return c({},t,r({},n,e.props[n]))},{});this.cropper=new m.default(this.img,t)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.src!==this.props.src&&this.cropper.reset().clear().replace(e.src),e.aspectRatio!==this.props.aspectRatio&&this.setAspectRatio(e.aspectRatio),e.data!==this.props.data&&this.setData(e.data),e.dragMode!==this.props.dragMode&&this.setDragMode(e.dragMode),e.cropBoxData!==this.props.cropBoxData&&this.setCropBoxData(e.cropBoxData),e.canvasData!==this.props.canvasData&&this.setCanvasData(e.canvasData),e.moveTo!==this.props.moveTo&&(e.moveTo.length>1?this.moveTo(e.moveTo[0],e.moveTo[1]):this.moveTo(e.moveTo[0])),e.zoomTo!==this.props.zoomTo&&this.zoomTo(e.zoomTo),e.rotateTo!==this.props.rotateTo&&this.rotateTo(e.rotateTo),e.scaleX!==this.props.scaleX&&this.scaleX(e.scaleX),e.scaleY!==this.props.scaleY&&this.scaleY(e.scaleY),e.enable!==this.props.enable&&(e.enable?this.enable():this.disable()),Object.keys(e).forEach(function(n){var o=e[n]!==t.props[n],r=-1!==b.indexOf(n);if("function"===typeof e[n]&&"function"===typeof t.props[n]&&(o=e[n].toString()!==t.props[n].toString()),o&&r)throw new Error("prop: "+n+" can't be change after componentDidMount")})}},{key:"componentWillUnmount",value:function(){this.img&&(this.cropper.destroy(),delete this.img,delete this.cropper)}},{key:"setDragMode",value:function(e){return this.cropper.setDragMode(e)}},{key:"setAspectRatio",value:function(e){return this.cropper.setAspectRatio(e)}},{key:"getCroppedCanvas",value:function(e){return this.cropper.getCroppedCanvas(e)}},{key:"setCropBoxData",value:function(e){return this.cropper.setCropBoxData(e)}},{key:"getCropBoxData",value:function(){return this.cropper.getCropBoxData()}},{key:"setCanvasData",value:function(e){return this.cropper.setCanvasData(e)}},{key:"getCanvasData",value:function(){return this.cropper.getCanvasData()}},{key:"getImageData",value:function(){return this.cropper.getImageData()}},{key:"getContainerData",value:function(){return this.cropper.getContainerData()}},{key:"setData",value:function(e){return this.cropper.setData(e)}},{key:"getData",value:function(e){return this.cropper.getData(e)}},{key:"crop",value:function(){return this.cropper.crop()}},{key:"move",value:function(e,t){return this.cropper.move(e,t)}},{key:"moveTo",value:function(e,t){return this.cropper.moveTo(e,t)}},{key:"zoom",value:function(e){return this.cropper.zoom(e)}},{key:"zoomTo",value:function(e){return this.cropper.zoomTo(e)}},{key:"rotate",value:function(e){return this.cropper.rotate(e)}},{key:"rotateTo",value:function(e){return this.cropper.rotateTo(e)}},{key:"enable",value:function(){return this.cropper.enable()}},{key:"disable",value:function(){return this.cropper.disable()}},{key:"reset",value:function(){return this.cropper.reset()}},{key:"clear",value:function(){return this.cropper.clear()}},{key:"replace",value:function(e,t){return this.cropper.replace(e,t)}},{key:"scale",value:function(e,t){return this.cropper.scale(e,t)}},{key:"scaleX",value:function(e){return this.cropper.scaleX(e)}},{key:"scaleY",value:function(e){return this.cropper.scaleY(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.src,o=t.alt,r=t.crossOrigin;return u.default.createElement("div",{src:null,crossOrigin:null,alt:null,style:this.props.style,className:this.props.className},u.default.createElement("img",{crossOrigin:r,ref:function(t){e.img=t},src:n,alt:void 0===o?"picture":o,style:{opacity:0}}))}}]),t}(p.Component);v.propTypes={style:h.default.object,className:h.default.string,crossOrigin:h.default.string,src:h.default.string,alt:h.default.string,aspectRatio:h.default.number,dragMode:h.default.oneOf(["crop","move","none"]),data:h.default.shape({x:h.default.number,y:h.default.number,width:h.default.number,height:h.default.number,rotate:h.default.number,scaleX:h.default.number,scaleY:h.default.number}),scaleX:h.default.number,scaleY:h.default.number,enable:h.default.bool,cropBoxData:h.default.shape({left:h.default.number,top:h.default.number,width:h.default.number,height:h.default.number}),canvasData:h.default.shape({left:h.default.number,top:h.default.number,width:h.default.number,height:h.default.number}),zoomTo:h.default.number,moveTo:h.default.arrayOf(h.default.number),rotateTo:h.default.number,viewMode:h.default.oneOf([0,1,2,3]),preview:h.default.string,responsive:h.default.bool,restore:h.default.bool,checkCrossOrigin:h.default.bool,checkOrientation:h.default.bool,modal:h.default.bool,guides:h.default.bool,center:h.default.bool,highlight:h.default.bool,background:h.default.bool,autoCrop:h.default.bool,autoCropArea:h.default.number,movable:h.default.bool,rotatable:h.default.bool,scalable:h.default.bool,zoomable:h.default.bool,zoomOnTouch:h.default.bool,zoomOnWheel:h.default.bool,wheelZoomRation:h.default.number,cropBoxMovable:h.default.bool,cropBoxResizable:h.default.bool,toggleDragModeOnDblclick:h.default.bool,minContainerWidth:h.default.number,minContainerHeight:h.default.number,minCanvasWidth:h.default.number,minCanvasHeight:h.default.number,minCropBoxWidth:h.default.number,minCropBoxHeight:h.default.number,ready:h.default.func,cropstart:h.default.func,cropmove:h.default.func,cropend:h.default.func,crop:h.default.func,zoom:h.default.func},v.defaultProps={src:null,dragMode:"crop",data:null,scaleX:1,scaleY:1,enable:!0,zoomTo:1,rotateTo:0},t.default=v},979:function(e,t,n){/*!
 * Cropper.js v1.0.0-rc.3
 * https://github.com/fengyuanchen/cropperjs
 *
 * Copyright (c) 2017 Fengyuan Chen
 * Released under the MIT license
 *
 * Date: 2017-07-07T12:56:42.462Z
 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return ae.call(e).slice(8,-1).toLowerCase()}function t(e){return"number"===typeof e&&!isNaN(e)}function n(e){return"undefined"===typeof e}function o(e){return"object"===("undefined"===typeof e?"undefined":Y(e))&&null!==e}function r(e){if(!o(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&ie.call(n,"isPrototypeOf")}catch(e){return!1}}function a(t){return"function"===e(t)}function i(t){return Array.isArray?Array.isArray(t):"array"===e(t)}function l(e){return"string"===typeof e&&(e=e.trim?e.trim():e.replace(ee,"$1")),e}function c(e,n){if(e&&a(n)){var r=void 0;if(i(e)||t(e.length)){var l=e.length;for(r=0;r<l&&!1!==n.call(e,e[r],r,e);r++);}else o(e)&&Object.keys(e).forEach(function(t){n.call(e,e[t],t,e)})}return e}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(o(e)&&n.length>0){if(Object.assign)return Object.assign.apply(Object,[e].concat(n));n.forEach(function(t){o(t)&&Object.keys(t).forEach(function(n){e[n]=t[n]})})}return e}function p(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(t,o.concat(r))}}function u(e,n){var o=e.style;c(n,function(e,n){K.test(n)&&t(e)&&(e+="px"),o[n]=e})}function d(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function h(e,n){if(n){if(t(e.length))return void c(e,function(e){h(e,n)});if(e.classList)return void e.classList.add(n);var o=l(e.className);o?o.indexOf(n)<0&&(e.className=o+" "+n):e.className=n}}function f(e,n){if(n)return t(e.length)?void c(e,function(e){f(e,n)}):e.classList?void e.classList.remove(n):void(e.className.indexOf(n)>=0&&(e.className=e.className.replace(n,"")))}function m(e,n,o){if(n)return t(e.length)?void c(e,function(e){m(e,n,o)}):void(o?h(e,n):f(e,n))}function g(e){return e.replace(Z,"$1-$2").toLowerCase()}function b(e,t){return o(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-"+g(t))}function v(e,t,n){o(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-"+g(t),n)}function y(e,t){if(o(e[t]))delete e[t];else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=null}else e.removeAttribute("data-"+g(t))}function w(e,t,n){var o=l(t).split(G);if(o.length>1)return void c(o,function(t){w(e,t,n)});e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function x(e,t,n,o){var r=l(t).split(G),a=n;if(r.length>1)return void c(r,function(t){x(e,t,n)});o&&(n=function(){for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return w(e,t,n),a.apply(e,r)}),e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function C(e,t,o){if(e.dispatchEvent){var r=void 0;return a(Event)&&a(CustomEvent)?r=n(o)?new Event(t,{bubbles:!0,cancelable:!0}):new CustomEvent(t,{detail:o,bubbles:!0,cancelable:!0}):n(o)?(r=document.createEvent("Event"),r.initEvent(t,!0,!0)):(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!0,!0,o)),e.dispatchEvent(r)}return!e.fireEvent||e.fireEvent("on"+t)}function S(e){var n=e||window.event;if(n.target||(n.target=n.srcElement||document),!t(n.pageX)&&t(n.clientX)){var o=e.target.ownerDocument||document,r=o.documentElement,a=o.body;n.pageX=n.clientX+((r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0)),n.pageY=n.clientY+((r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0))}return n}function k(e){var t=document.documentElement,n=e.getBoundingClientRect();return{left:n.left+((window.scrollX||t&&t.scrollLeft||0)-(t&&t.clientLeft||0)),top:n.top+((window.scrollY||t&&t.scrollTop||0)-(t&&t.clientTop||0))}}function E(e,t){return e.getElementsByTagName(t)}function M(e,t){return e.getElementsByClassName?e.getElementsByClassName(t):e.querySelectorAll("."+t)}function O(e){return document.createElement(e)}function D(e,t){e.appendChild(t)}function _(e){e.parentNode&&e.parentNode.removeChild(e)}function T(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function I(e){var t=e.match($);return t&&(t[1]!==location.protocol||t[2]!==location.hostname||t[3]!==location.port)}function A(e){var t="timestamp="+(new Date).getTime();return e+(-1===e.indexOf("?")?"?":"&")+t}function j(e,t){if(e.naturalWidth&&!oe)return void t(e.naturalWidth,e.naturalHeight);var n=O("img");n.onload=function(){t(this.width,this.height)},n.src=e.src}function R(e){var n=[],o=e.translateX,r=e.translateY,a=e.rotate,i=e.scaleX,l=e.scaleY;t(o)&&0!==o&&n.push("translateX("+o+"px)"),t(r)&&0!==r&&n.push("translateY("+r+"px)"),t(a)&&0!==a&&n.push("rotate("+a+"deg)"),t(i)&&1!==i&&n.push("scaleX("+i+")"),t(l)&&1!==l&&n.push("scaleY("+l+")");var c=n.length?n.join(" "):"none";return{WebkitTransform:c,msTransform:c,transform:c}}function B(e,t){var n=Math.abs(e.degree)%180,o=(n>90?180-n:n)*Math.PI/180,r=Math.sin(o),a=Math.cos(o),i=e.width,l=e.height,c=e.aspectRatio,s=void 0,p=void 0;return t?(s=i/(a+r/c),p=s/c):(s=i*a+l*r,p=i*r+l*a),{width:s,height:p}}function N(e,n,o){var r=O("canvas"),a=r.getContext("2d"),i=0,l=0,c=n.naturalWidth,s=n.naturalHeight,p=n.rotate,u=n.scaleX,d=n.scaleY,h=t(u)&&t(d)&&(1!==u||1!==d),f=t(p)&&0!==p,m=f||h,g=c*Math.abs(u||1),b=s*Math.abs(d||1),v=void 0,y=void 0,w=void 0;return h&&(v=g/2,y=b/2),f&&(w=B({width:g,height:b,degree:p}),g=w.width,b=w.height,v=g/2,y=b/2),r.width=g,r.height=b,o.fillColor&&(a.fillStyle=o.fillColor,a.fillRect(0,0,g,b)),m&&(i=-c/2,l=-s/2,a.save(),a.translate(v,y)),f&&a.rotate(p*Math.PI/180),h&&a.scale(u,d),a.imageSmoothingEnabled=!!o.imageSmoothingEnabled,o.imageSmoothingQuality&&(a.imageSmoothingQuality=o.imageSmoothingQuality),a.drawImage(e,Math.floor(i),Math.floor(l),Math.floor(c),Math.floor(s)),m&&a.restore(),r}function F(e,t,n){var o="",r=t;for(n+=t;r<n;r++)o+=le(e.getUint8(r));return o}function L(e){var t=new DataView(e),n=t.byteLength,o=void 0,r=void 0,a=void 0,i=void 0,l=void 0,c=void 0,s=void 0,p=void 0,u=void 0,d=void 0;if(255===t.getUint8(0)&&216===t.getUint8(1))for(u=2;u<n;){if(255===t.getUint8(u)&&225===t.getUint8(u+1)){s=u;break}u++}if(s&&(r=s+4,a=s+10,"Exif"===F(t,r,4)&&(c=t.getUint16(a),((l=18761===c)||19789===c)&&42===t.getUint16(a+2,l)&&(i=t.getUint32(a+4,l))>=8&&(p=a+i))),p)for(n=t.getUint16(p,l),d=0;d<n;d++)if(u=p+12*d+2,274===t.getUint16(u,l)){u+=8,o=t.getUint16(u,l),oe&&t.setUint16(u,1,l);break}return o}function z(e){var t=e.replace(J,""),n=atob(t),o=n.length,r=new ArrayBuffer(o),a=new Uint8Array(r),i=void 0;for(i=0;i<o;i++)a[i]=n.charCodeAt(i);return r}function P(e){var t=new Uint8Array(e),n=t.length,o="",r=void 0;for(r=0;r<n;r++)o+=le(t[r]);return"data:image/jpeg;base64,"+btoa(o)}function U(e,t){var n=e.pageX,o=e.pageY,r={endX:n,endY:o};return t?r:s({startX:n,startY:o},r)}function W(e){var t=s({},e),n=[];return c(e,function(e,o){delete t[o],c(t,function(t){var o=Math.abs(e.startX-t.startX),r=Math.abs(e.startY-t.startY),a=Math.abs(e.endX-t.endX),i=Math.abs(e.endY-t.endY),l=Math.sqrt(o*o+r*r),c=Math.sqrt(a*a+i*i),s=(c-l)/l;n.push(s)})}),n.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),n[0]}function H(e){var t=0,n=0,o=0;return c(e,function(e){var r=e.startX,a=e.startY;t+=r,n+=a,o+=1}),t/=o,n/=o,{pageX:t,pageY:n}}var X={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},q=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),Q=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},J=/^data:.*,/,Z=/([a-z\d])([A-Z])/g,$=/^(https?:)\/\/([^:\/?#]+):?(\d*)/i,G=/\s+/,K=/^(width|height|left|top|marginLeft|marginTop)$/,ee=/^\s+(.*)\s+$/,te=/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i,ne="undefined"!==typeof window?window.navigator:null,oe=ne&&te.test(ne.userAgent),re=Object.prototype,ae=re.toString,ie=re.hasOwnProperty,le=(Array.prototype.slice,String.fromCharCode),ce={render:function(){var e=this;e.initContainer(),e.initCanvas(),e.initCropBox(),e.renderCanvas(),e.cropped&&e.renderCropBox()},initContainer:function(){var e=this,t=e.options,n=e.element,o=e.container,r=e.cropper,a="cropper-hidden",i=void 0;h(r,a),f(n,a),e.containerData=i={width:Math.max(o.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(o.offsetHeight,Number(t.minContainerHeight)||100)},u(r,{width:i.width,height:i.height}),h(n,a),f(r,a)},initCanvas:function(){var e=this,t=e.options.viewMode,n=e.containerData,o=e.imageData,r=Math.abs(o.rotate)%180===90,a=r?o.naturalHeight:o.naturalWidth,i=r?o.naturalWidth:o.naturalHeight,l=a/i,c=n.width,p=n.height;n.height*l>n.width?3===t?c=n.height*l:p=n.width/l:3===t?p=n.width/l:c=n.height*l;var u={naturalWidth:a,naturalHeight:i,aspectRatio:l,width:c,height:p};u.oldLeft=u.left=(n.width-c)/2,u.oldTop=u.top=(n.height-p)/2,e.canvasData=u,e.limited=1===t||2===t,e.limitCanvas(!0,!0),e.initialImageData=s({},o),e.initialCanvasData=s({},u)},limitCanvas:function(e,t){var n=this,o=n.options,r=o.viewMode,a=n.containerData,i=n.canvasData,l=i.aspectRatio,c=n.cropBoxData,s=n.cropped&&c;if(e){var p=Number(o.minCanvasWidth)||0,u=Number(o.minCanvasHeight)||0;r>1?(p=Math.max(p,a.width),u=Math.max(u,a.height),3===r&&(u*l>p?p=u*l:u=p/l)):r>0&&(p?p=Math.max(p,s?c.width:0):u?u=Math.max(u,s?c.height:0):s&&(p=c.width,u=c.height,u*l>p?p=u*l:u=p/l)),p&&u?u*l>p?u=p/l:p=u*l:p?u=p/l:u&&(p=u*l),i.minWidth=p,i.minHeight=u,i.maxWidth=1/0,i.maxHeight=1/0}if(t)if(r){var d=a.width-i.width,h=a.height-i.height;i.minLeft=Math.min(0,d),i.minTop=Math.min(0,h),i.maxLeft=Math.max(0,d),i.maxTop=Math.max(0,h),s&&n.limited&&(i.minLeft=Math.min(c.left,c.left+(c.width-i.width)),i.minTop=Math.min(c.top,c.top+(c.height-i.height)),i.maxLeft=c.left,i.maxTop=c.top,2===r&&(i.width>=a.width&&(i.minLeft=Math.min(0,d),i.maxLeft=Math.max(0,d)),i.height>=a.height&&(i.minTop=Math.min(0,h),i.maxTop=Math.max(0,h))))}else i.minLeft=-i.width,i.minTop=-i.height,i.maxLeft=a.width,i.maxTop=a.height},renderCanvas:function(e){var t=this,n=t.canvasData,o=t.imageData,r=o.rotate;if(t.rotated){t.rotated=!1;var a=B({width:o.width,height:o.height,degree:r}),i=a.width/a.height,l=1===o.aspectRatio;if(l||i!==n.aspectRatio){if(n.left-=(a.width-n.width)/2,n.top-=(a.height-n.height)/2,n.width=a.width,n.height=a.height,n.aspectRatio=i,n.naturalWidth=o.naturalWidth,n.naturalHeight=o.naturalHeight,l&&r%90||r%180){var c=B({width:o.naturalWidth,height:o.naturalHeight,degree:r});n.naturalWidth=c.width,n.naturalHeight=c.height}t.limitCanvas(!0,!1)}}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),t.limitCanvas(!1,!0),n.oldLeft=n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.oldTop=n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),u(t.canvas,s({width:n.width,height:n.height},R({translateX:n.left,translateY:n.top}))),t.renderImage(),t.cropped&&t.limited&&t.limitCropBox(!0,!0),e&&t.output()},renderImage:function(e){var t=this,n=t.canvasData,o=t.imageData,r=void 0,a=void 0,i=void 0,l=void 0;o.rotate&&(a=B({width:n.width,height:n.height,degree:o.rotate,aspectRatio:o.aspectRatio},!0),i=a.width,l=a.height,r={width:i,height:l,left:(n.width-i)/2,top:(n.height-l)/2}),s(o,r||{width:n.width,height:n.height,left:0,top:0}),u(t.image,s({width:o.width,height:o.height},R(s({translateX:o.left,translateY:o.top},o)))),e&&t.output()},initCropBox:function(){var e=this,t=e.options,n=t.aspectRatio,o=Number(t.autoCropArea)||.8,r=e.canvasData,a={width:r.width,height:r.height};n&&(r.height*n>r.width?a.height=a.width/n:a.width=a.height*n),e.cropBoxData=a,e.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*o),a.height=Math.max(a.minHeight,a.height*o),a.oldLeft=a.left=r.left+(r.width-a.width)/2,a.oldTop=a.top=r.top+(r.height-a.height)/2,e.initialCropBoxData=s({},a)},limitCropBox:function(e,t){var n=this,o=n.options,r=o.aspectRatio,a=n.containerData,i=n.canvasData,l=n.cropBoxData,c=n.limited;if(e){var s=Number(o.minCropBoxWidth)||0,p=Number(o.minCropBoxHeight)||0,u=Math.min(a.width,c?i.width:a.width),d=Math.min(a.height,c?i.height:a.height);s=Math.min(s,a.width),p=Math.min(p,a.height),r&&(s&&p?p*r>s?p=s/r:s=p*r:s?p=s/r:p&&(s=p*r),d*r>u?d=u/r:u=d*r),l.minWidth=Math.min(s,u),l.minHeight=Math.min(p,d),l.maxWidth=u,l.maxHeight=d}t&&(c?(l.minLeft=Math.max(0,i.left),l.minTop=Math.max(0,i.top),l.maxLeft=Math.min(a.width,i.left+i.width)-l.width,l.maxTop=Math.min(a.height,i.top+i.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=a.width-l.width,l.maxTop=a.height-l.height))},renderCropBox:function(){var e=this,t=e.options,n=e.containerData,o=e.cropBoxData;(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),e.limitCropBox(!1,!0),o.oldLeft=o.left=Math.min(Math.max(o.left,o.minLeft),o.maxLeft),o.oldTop=o.top=Math.min(Math.max(o.top,o.minTop),o.maxTop),t.movable&&t.cropBoxMovable&&v(e.face,"action",o.width===n.width&&o.height===n.height?"move":"all"),u(e.cropBox,s({width:o.width,height:o.height},R({translateX:o.left,translateY:o.top}))),e.cropped&&e.limited&&e.limitCanvas(!0,!0),e.disabled||e.output()},output:function(){var e=this;e.preview(),e.complete&&C(e.element,"crop",e.getData())}},se={initPreview:function(){var e=this,t=e.options.preview,n=O("img"),o=e.crossOrigin,r=o?e.crossOriginUrl:e.url;if(o&&(n.crossOrigin=o),n.src=r,D(e.viewBox,n),e.image2=n,t){var a=t.querySelector?[t]:document.querySelectorAll(t);e.previews=a,c(a,function(e){var t=O("img");v(e,"preview",{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),o&&(t.crossOrigin=o),t.src=r,t.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',T(e),D(e,t)})}},resetPreview:function(){c(this.previews,function(e){var t=b(e,"preview");u(e,{width:t.width,height:t.height}),e.innerHTML=t.html,y(e,"preview")})},preview:function(){var e=this,t=e.imageData,n=e.canvasData,o=e.cropBoxData,r=o.width,a=o.height,i=t.width,l=t.height,p=o.left-n.left-t.left,d=o.top-n.top-t.top;e.cropped&&!e.disabled&&(u(e.image2,s({width:i,height:l},R(s({translateX:-p,translateY:-d},t)))),c(e.previews,function(e){var n=b(e,"preview"),o=n.width,c=n.height,h=o,f=c,m=1;r&&(m=o/r,f=a*m),a&&f>c&&(m=c/a,h=r*m,f=c),u(e,{width:h,height:f}),u(E(e,"img")[0],s({width:i*m,height:l*m},R(s({translateX:-p*m,translateY:-d*m},t))))}))}},pe="undefined"!==typeof window?window.PointerEvent:null,ue=pe?"pointerdown":"touchstart mousedown",de=pe?"pointermove":"touchmove mousemove",he=pe?" pointerup pointercancel":"touchend touchcancel mouseup",fe={bind:function(){var e=this,t=e.options,n=e.element,o=e.cropper;a(t.cropstart)&&x(n,"cropstart",t.cropstart),a(t.cropmove)&&x(n,"cropmove",t.cropmove),a(t.cropend)&&x(n,"cropend",t.cropend),a(t.crop)&&x(n,"crop",t.crop),a(t.zoom)&&x(n,"zoom",t.zoom),x(o,ue,e.onCropStart=p(e.cropStart,e)),t.zoomable&&t.zoomOnWheel&&x(o,"wheel mousewheel DOMMouseScroll",e.onWheel=p(e.wheel,e)),t.toggleDragModeOnDblclick&&x(o,"dblclick",e.onDblclick=p(e.dblclick,e)),x(document,de,e.onCropMove=p(e.cropMove,e)),x(document,he,e.onCropEnd=p(e.cropEnd,e)),t.responsive&&x(window,"resize",e.onResize=p(e.resize,e))},unbind:function(){var e=this,t=e.options,n=e.element,o=e.cropper;a(t.cropstart)&&w(n,"cropstart",t.cropstart),a(t.cropmove)&&w(n,"cropmove",t.cropmove),a(t.cropend)&&w(n,"cropend",t.cropend),a(t.crop)&&w(n,"crop",t.crop),a(t.zoom)&&w(n,"zoom",t.zoom),w(o,ue,e.onCropStart),t.zoomable&&t.zoomOnWheel&&w(o,"wheel mousewheel DOMMouseScroll",e.onWheel),t.toggleDragModeOnDblclick&&w(o,"dblclick",e.onDblclick),w(document,de,e.onCropMove),w(document,he,e.onCropEnd),t.responsive&&w(window,"resize",e.onResize)}},me=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,ge={resize:function(){var e=this,t=e.options,n=e.container,o=e.containerData,r=Number(t.minContainerWidth)||200,a=Number(t.minContainerHeight)||100;if(!e.disabled&&o.width!==r&&o.height!==a){var i=n.offsetWidth/o.width;1===i&&n.offsetHeight===o.height||function(){var n=void 0,o=void 0;t.restore&&(n=e.getCanvasData(),o=e.getCropBoxData()),e.render(),t.restore&&(e.setCanvasData(c(n,function(e,t){n[t]=e*i})),e.setCropBoxData(c(o,function(e,t){o[t]=e*i})))}()}},dblclick:function(){var e=this;e.disabled||"none"===e.options.dragMode||e.setDragMode(d(e.dragBox,"cropper-crop")?"move":"crop")},wheel:function(e){var t=this,n=S(e),o=Number(t.options.wheelZoomRatio)||.1,r=1;t.disabled||(n.preventDefault(),t.wheeling||(t.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),n.deltaY?r=n.deltaY>0?1:-1:n.wheelDelta?r=-n.wheelDelta/120:n.detail&&(r=n.detail>0?1:-1),t.zoom(-r*o,n)))},cropStart:function(e){var t=this;if(!t.disabled){var n=t.options,o=t.pointers,r=S(e),a=void 0;r.changedTouches?c(r.changedTouches,function(e){o[e.identifier]=U(e)}):o[r.pointerId||0]=U(r),a=Object.keys(o).length>1&&n.zoomable&&n.zoomOnTouch?"zoom":b(r.target,"action"),me.test(a)&&!1!==C(t.element,"cropstart",{originalEvent:r,action:a})&&(r.preventDefault(),t.action=a,t.cropping=!1,"crop"===a&&(t.cropping=!0,h(t.dragBox,"cropper-modal")))}},cropMove:function(e){var t=this,n=t.action;if(!t.disabled&&n){var o=t.pointers,r=S(e);r.preventDefault(),!1!==C(t.element,"cropmove",{originalEvent:r,action:n})&&(r.changedTouches?c(r.changedTouches,function(e){s(o[e.identifier],U(e,!0))}):s(o[r.pointerId||0],U(r,!0)),t.change(r))}},cropEnd:function(e){var t=this;if(!t.disabled){var n=t.action,o=t.pointers,r=S(e);r.changedTouches?c(r.changedTouches,function(e){delete o[e.identifier]}):delete o[r.pointerId||0],n&&(r.preventDefault(),Object.keys(o).length||(t.action=""),t.cropping&&(t.cropping=!1,m(t.dragBox,"cropper-modal",t.cropped&&this.options.modal)),C(t.element,"cropend",{originalEvent:r,action:n}))}}},be={change:function(e){var t=this,n=t.options,o=t.containerData,r=t.canvasData,a=t.cropBoxData,i=n.aspectRatio,l=t.action,s=a.width,p=a.height,u=a.left,d=a.top,h=u+s,m=d+p,g=0,b=0,v=o.width,y=o.height,w=!0,x=void 0;!i&&e.shiftKey&&(i=s&&p?s/p:1),t.limited&&(g=a.minLeft,b=a.minTop,v=g+Math.min(o.width,r.width,r.left+r.width),y=b+Math.min(o.height,r.height,r.top+r.height));var C=t.pointers,S=C[Object.keys(C)[0]],E={x:S.endX-S.startX,y:S.endY-S.startY};switch(i&&(E.X=E.y*i,E.Y=E.x/i),l){case"all":u+=E.x,d+=E.y;break;case"e":if(E.x>=0&&(h>=v||i&&(d<=b||m>=y))){w=!1;break}s+=E.x,i&&(p=s/i,d-=E.Y/2),s<0&&(l="w",s=0);break;case"n":if(E.y<=0&&(d<=b||i&&(u<=g||h>=v))){w=!1;break}p-=E.y,d+=E.y,i&&(s=p*i,u+=E.X/2),p<0&&(l="s",p=0);break;case"w":if(E.x<=0&&(u<=g||i&&(d<=b||m>=y))){w=!1;break}s-=E.x,u+=E.x,i&&(p=s/i,d+=E.Y/2),s<0&&(l="e",s=0);break;case"s":if(E.y>=0&&(m>=y||i&&(u<=g||h>=v))){w=!1;break}p+=E.y,i&&(s=p*i,u-=E.X/2),p<0&&(l="n",p=0);break;case"ne":if(i){if(E.y<=0&&(d<=b||h>=v)){w=!1;break}p-=E.y,d+=E.y,s=p*i}else E.x>=0?h<v?s+=E.x:E.y<=0&&d<=b&&(w=!1):s+=E.x,E.y<=0?d>b&&(p-=E.y,d+=E.y):(p-=E.y,d+=E.y);s<0&&p<0?(l="sw",p=0,s=0):s<0?(l="nw",s=0):p<0&&(l="se",p=0);break;case"nw":if(i){if(E.y<=0&&(d<=b||u<=g)){w=!1;break}p-=E.y,d+=E.y,s=p*i,u+=E.X}else E.x<=0?u>g?(s-=E.x,u+=E.x):E.y<=0&&d<=b&&(w=!1):(s-=E.x,u+=E.x),E.y<=0?d>b&&(p-=E.y,d+=E.y):(p-=E.y,d+=E.y);s<0&&p<0?(l="se",p=0,s=0):s<0?(l="ne",s=0):p<0&&(l="sw",p=0);break;case"sw":if(i){if(E.x<=0&&(u<=g||m>=y)){w=!1;break}s-=E.x,u+=E.x,p=s/i}else E.x<=0?u>g?(s-=E.x,u+=E.x):E.y>=0&&m>=y&&(w=!1):(s-=E.x,u+=E.x),E.y>=0?m<y&&(p+=E.y):p+=E.y;s<0&&p<0?(l="ne",p=0,s=0):s<0?(l="se",s=0):p<0&&(l="nw",p=0);break;case"se":if(i){if(E.x>=0&&(h>=v||m>=y)){w=!1;break}s+=E.x,p=s/i}else E.x>=0?h<v?s+=E.x:E.y>=0&&m>=y&&(w=!1):s+=E.x,E.y>=0?m<y&&(p+=E.y):p+=E.y;s<0&&p<0?(l="nw",p=0,s=0):s<0?(l="sw",s=0):p<0&&(l="ne",p=0);break;case"move":t.move(E.x,E.y),w=!1;break;case"zoom":t.zoom(W(C),e),w=!1;break;case"crop":if(!E.x||!E.y){w=!1;break}x=k(t.cropper),u=S.startX-x.left,d=S.startY-x.top,s=a.minWidth,p=a.minHeight,E.x>0?l=E.y>0?"se":"ne":E.x<0&&(u-=s,l=E.y>0?"sw":"nw"),E.y<0&&(d-=p),t.cropped||(f(t.cropBox,"cropper-hidden"),t.cropped=!0,t.limited&&t.limitCropBox(!0,!0))}w&&(a.width=s,a.height=p,a.left=u,a.top=d,t.action=l,t.renderCropBox()),c(C,function(e){e.startX=e.endX,e.startY=e.endY})}},ve={crop:function(){var e=this;return e.ready&&!e.disabled&&(e.cropped||(e.cropped=!0,e.limitCropBox(!0,!0),e.options.modal&&h(e.dragBox,"cropper-modal"),f(e.cropBox,"cropper-hidden")),e.setCropBoxData(e.initialCropBoxData)),e},reset:function(){var e=this;return e.ready&&!e.disabled&&(e.imageData=s({},e.initialImageData),e.canvasData=s({},e.initialCanvasData),e.cropBoxData=s({},e.initialCropBoxData),e.renderCanvas(),e.cropped&&e.renderCropBox()),e},clear:function(){var e=this;return e.cropped&&!e.disabled&&(s(e.cropBoxData,{left:0,top:0,width:0,height:0}),e.cropped=!1,e.renderCropBox(),e.limitCanvas(),e.renderCanvas(),f(e.dragBox,"cropper-modal"),h(e.cropBox,"cropper-hidden")),e},replace:function(e,t){var n=this;return!n.disabled&&e&&(n.isImg&&(n.element.src=e),t?(n.url=e,n.image.src=e,n.ready&&(n.image2.src=e,c(n.previews,function(t){E(t,"img")[0].src=e}))):(n.isImg&&(n.replaced=!0),n.options.data=null,n.load(e))),n},enable:function(){var e=this;return e.ready&&(e.disabled=!1,f(e.cropper,"cropper-disabled")),e},disable:function(){var e=this;return e.ready&&(e.disabled=!0,h(e.cropper,"cropper-disabled")),e},destroy:function(){var e=this,t=e.element,n=e.image;return e.loaded?(e.isImg&&e.replaced&&(t.src=e.originalUrl),e.unbuild(),f(t,"cropper-hidden")):e.isImg?w(t,"load",e.onStart):n&&_(n),y(t,"cropper"),e},move:function(e,t){var o=this,r=o.canvasData;return o.moveTo(n(e)?e:r.left+Number(e),n(t)?t:r.top+Number(t))},moveTo:function(e,o){var r=this,a=r.canvasData,i=!1;return n(o)&&(o=e),e=Number(e),o=Number(o),r.ready&&!r.disabled&&r.options.movable&&(t(e)&&(a.left=e,i=!0),t(o)&&(a.top=o,i=!0),i&&r.renderCanvas(!0)),r},zoom:function(e,t){var n=this,o=n.canvasData;return e=Number(e),e=e<0?1/(1-e):1+e,n.zoomTo(o.width*e/o.naturalWidth,t)},zoomTo:function(e,t){var n=this,o=n.options,r=n.canvasData,a=r.width,i=r.height,l=r.naturalWidth,c=r.naturalHeight;if((e=Number(e))>=0&&n.ready&&!n.disabled&&o.zoomable){var s=l*e,p=c*e;if(!1===C(n.element,"zoom",{originalEvent:t,oldRatio:a/l,ratio:s/l}))return n;if(t){var u=n.pointers,d=k(n.cropper),h=u&&Object.keys(u).length?H(u):{pageX:t.pageX,pageY:t.pageY};r.left-=(s-a)*((h.pageX-d.left-r.left)/a),r.top-=(p-i)*((h.pageY-d.top-r.top)/i)}else r.left-=(s-a)/2,r.top-=(p-i)/2;r.width=s,r.height=p,n.renderCanvas(!0)}return n},rotate:function(e){var t=this;return t.rotateTo((t.imageData.rotate||0)+Number(e))},rotateTo:function(e){var n=this;return e=Number(e),t(e)&&n.ready&&!n.disabled&&n.options.rotatable&&(n.imageData.rotate=e%360,n.rotated=!0,n.renderCanvas(!0)),n},scale:function(e,o){var r=this,a=r.imageData,i=!1;return n(o)&&(o=e),e=Number(e),o=Number(o),r.ready&&!r.disabled&&r.options.scalable&&(t(e)&&(a.scaleX=e,i=!0),t(o)&&(a.scaleY=o,i=!0),i&&r.renderImage(!0)),r},scaleX:function(e){var n=this,o=n.imageData.scaleY;return n.scale(e,t(o)?o:1)},scaleY:function(e){var n=this,o=n.imageData.scaleX;return n.scale(t(o)?o:1,e)},getData:function(e){var t=this,n=t.options,o=t.imageData,r=t.canvasData,a=t.cropBoxData,i=void 0,l=void 0;return t.ready&&t.cropped?(l={x:a.left-r.left,y:a.top-r.top,width:a.width,height:a.height},i=o.width/o.naturalWidth,c(l,function(t,n){t/=i,l[n]=e?Math.round(t):t})):l={x:0,y:0,width:0,height:0},n.rotatable&&(l.rotate=o.rotate||0),n.scalable&&(l.scaleX=o.scaleX||1,l.scaleY=o.scaleY||1),l},setData:function(e){var n=this,o=n.options,i=n.imageData,l=n.canvasData,c={},s=void 0,p=void 0,u=void 0;return a(e)&&(e=e.call(n.element)),n.ready&&!n.disabled&&r(e)&&(o.rotatable&&t(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,n.rotated=s=!0),o.scalable&&(t(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,p=!0),t(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,p=!0)),s?n.renderCanvas():p&&n.renderImage(),u=i.width/i.naturalWidth,t(e.x)&&(c.left=e.x*u+l.left),t(e.y)&&(c.top=e.y*u+l.top),t(e.width)&&(c.width=e.width*u),t(e.height)&&(c.height=e.height*u),n.setCropBoxData(c)),n},getContainerData:function(){var e=this;return e.ready?e.containerData:{}},getImageData:function(){var e=this;return e.loaded?e.imageData:{}},getCanvasData:function(){var e=this,t=e.canvasData,n={};return e.ready&&c(["left","top","width","height","naturalWidth","naturalHeight"],function(e){n[e]=t[e]}),n},setCanvasData:function(e){var n=this,o=n.canvasData,i=o.aspectRatio;return a(e)&&(e=e.call(n.element)),n.ready&&!n.disabled&&r(e)&&(t(e.left)&&(o.left=e.left),t(e.top)&&(o.top=e.top),t(e.width)?(o.width=e.width,o.height=e.width/i):t(e.height)&&(o.height=e.height,o.width=e.height*i),n.renderCanvas(!0)),n},getCropBoxData:function(){var e=this,t=e.cropBoxData,n=void 0;return e.ready&&e.cropped&&(n={left:t.left,top:t.top,width:t.width,height:t.height}),n||{}},setCropBoxData:function(e){var n=this,o=n.cropBoxData,i=n.options.aspectRatio,l=void 0,c=void 0;return a(e)&&(e=e.call(n.element)),n.ready&&n.cropped&&!n.disabled&&r(e)&&(t(e.left)&&(o.left=e.left),t(e.top)&&(o.top=e.top),t(e.width)&&e.width!==o.width&&(l=!0,o.width=e.width),t(e.height)&&e.height!==o.height&&(c=!0,o.height=e.height),i&&(l?o.height=o.width/i:c&&(o.width=o.height*i)),n.renderCropBox()),n},getCroppedCanvas:function(e){var t=this;if(!t.ready||!window.HTMLCanvasElement)return null;if(r(e)||(e={}),!t.cropped)return N(t.image,t.imageData,e);var n=t.getData(),o=n.width,a=n.height,i=o/a,l=void 0,c=void 0,s=void 0;r(e)&&(l=e.width,c=e.height,l?(c=l/i,s=l/o):c&&(l=c*i,s=c/a));var p=Math.floor(l||o),u=Math.floor(c||a),d=O("canvas"),h=d.getContext("2d");d.width=p,d.height=u,e.fillColor&&(h.fillStyle=e.fillColor,h.fillRect(0,0,p,u));var f=function(){var r=N(t.image,t.imageData,e),i=r.width,l=r.height,c=t.canvasData,p=[r],u=n.x+c.naturalWidth*(Math.abs(n.scaleX||1)-1)/2,d=n.y+c.naturalHeight*(Math.abs(n.scaleY||1)-1)/2,h=void 0,f=void 0,m=void 0,g=void 0,b=void 0,v=void 0;return u<=-o||u>i?u=h=m=b=0:u<=0?(m=-u,u=0,h=b=Math.min(i,o+u)):u<=i&&(m=0,h=b=Math.min(o,i-u)),h<=0||d<=-a||d>l?d=f=g=v=0:d<=0?(g=-d,d=0,f=v=Math.min(l,a+d)):d<=l&&(g=0,f=v=Math.min(a,l-d)),p.push(Math.floor(u),Math.floor(d),Math.floor(h),Math.floor(f)),s&&(m*=s,g*=s,b*=s,v*=s),b>0&&v>0&&p.push(Math.floor(m),Math.floor(g),Math.floor(b),Math.floor(v)),p}();return h.imageSmoothingEnabled=!!e.imageSmoothingEnabled,e.imageSmoothingQuality&&(h.imageSmoothingQuality=e.imageSmoothingQuality),h.drawImage.apply(h,Q(f)),d},setAspectRatio:function(e){var t=this,o=t.options;return t.disabled||n(e)||(o.aspectRatio=Math.max(0,e)||NaN,t.ready&&(t.initCropBox(),t.cropped&&t.renderCropBox())),t},setDragMode:function(e){var t=this,n=t.options,o=t.dragBox,r=t.face,a=void 0,i=void 0;return t.loaded&&!t.disabled&&(a="crop"===e,i=n.movable&&"move"===e,e=a||i?e:"none",v(o,"action",e),m(o,"cropper-crop",a),m(o,"cropper-move",i),n.cropBoxMovable||(v(r,"action",e),m(r,"cropper-crop",a),m(r,"cropper-move",i))),t}},ye=/^data:/,we=/^data:image\/jpeg;base64,/,xe=void 0,Ce=function(){function e(t,n){V(this,e);var o=this;o.element=t,o.options=s({},X,r(n)&&n),o.loaded=!1,o.ready=!1,o.complete=!1,o.rotated=!1,o.cropped=!1,o.disabled=!1,o.replaced=!1,o.limited=!1,o.wheeling=!1,o.isImg=!1,o.originalUrl="",o.canvasData=null,o.cropBoxData=null,o.previews=null,o.pointers={},o.init()}return q(e,[{key:"init",value:function(){var e=this,t=e.element,n=t.tagName.toLowerCase(),o=void 0;if(!b(t,"cropper")){if(v(t,"cropper",e),"img"===n){if(e.isImg=!0,e.originalUrl=o=t.getAttribute("src"),!o)return;o=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(o=t.toDataURL());e.load(o)}}},{key:"load",value:function(e){var t=this,n=t.options,o=t.element;if(e){if(t.url=e,t.imageData={},!n.checkOrientation||!window.ArrayBuffer)return void t.clone();if(ye.test(e))return void(we.test(e)?t.read(z(e)):t.clone());var r=new XMLHttpRequest;r.onerror=r.onabort=function(){t.clone()},r.onload=function(){t.read(r.response)},n.checkCrossOrigin&&I(e)&&o.crossOrigin&&(e=A(e)),r.open("get",e),r.responseType="arraybuffer",r.withCredentials="use-credentials"===o.crossOrigin,r.send()}}},{key:"read",value:function(e){var t=this,n=t.options,o=L(e),r=t.imageData,a=0,i=1,l=1;if(o>1)switch(t.url=P(e),o){case 2:i=-1;break;case 3:a=-180;break;case 4:l=-1;break;case 5:a=90,l=-1;break;case 6:a=90;break;case 7:a=90,i=-1;break;case 8:a=-90}n.rotatable&&(r.rotate=a),n.scalable&&(r.scaleX=i,r.scaleY=l),t.clone()}},{key:"clone",value:function(){var e=this,t=e.element,n=e.url,o=void 0,r=void 0,a=void 0,i=void 0;e.options.checkCrossOrigin&&I(n)&&(o=t.crossOrigin,o?r=n:(o="anonymous",r=A(n))),e.crossOrigin=o,e.crossOriginUrl=r;var l=O("img");o&&(l.crossOrigin=o),l.src=r||n,e.image=l,e.onStart=a=p(e.start,e),e.onStop=i=p(e.stop,e),e.isImg?t.complete?e.start():x(t,"load",a):(x(l,"load",a),x(l,"error",i),h(l,"cropper-hide"),t.parentNode.insertBefore(l,t.nextSibling))}},{key:"start",value:function(e){var t=this,n=t.isImg?t.element:t.image;e&&(w(n,"load",t.onStart),w(n,"error",t.onStop)),j(n,function(e,n){s(t.imageData,{naturalWidth:e,naturalHeight:n,aspectRatio:e/n}),t.loaded=!0,t.build()})}},{key:"stop",value:function(){var e=this,t=e.image;w(t,"load",e.onStart),w(t,"error",e.onStop),_(t),e.image=null}},{key:"build",value:function(){var e=this,t=e.options,n=e.element,o=e.image,r=void 0,i=void 0,l=void 0,c=void 0,s=void 0,p=void 0;if(e.loaded){e.ready&&e.unbuild();var u=O("div");u.innerHTML='<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',e.container=r=n.parentNode,e.cropper=i=M(u,"cropper-container")[0],e.canvas=l=M(i,"cropper-canvas")[0],e.dragBox=c=M(i,"cropper-drag-box")[0],e.cropBox=s=M(i,"cropper-crop-box")[0],e.viewBox=M(i,"cropper-view-box")[0],e.face=p=M(s,"cropper-face")[0],D(l,o),h(n,"cropper-hidden"),r.insertBefore(i,n.nextSibling),e.isImg||f(o,"cropper-hide"),e.initPreview(),e.bind(),t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,e.cropped=t.autoCrop,t.autoCrop?t.modal&&h(c,"cropper-modal"):h(s,"cropper-hidden"),t.guides||h(M(s,"cropper-dashed"),"cropper-hidden"),t.center||h(M(s,"cropper-center"),"cropper-hidden"),t.background&&h(i,"cropper-bg"),t.highlight||h(p,"cropper-invisible"),t.cropBoxMovable&&(h(p,"cropper-move"),v(p,"action","all")),t.cropBoxResizable||(h(M(s,"cropper-line"),"cropper-hidden"),h(M(s,"cropper-point"),"cropper-hidden")),e.setDragMode(t.dragMode),e.render(),e.ready=!0,e.setData(t.data),e.completing=setTimeout(function(){a(t.ready)&&x(n,"ready",t.ready,!0),C(n,"ready"),C(n,"crop",e.getData()),e.complete=!0},0)}}},{key:"unbuild",value:function(){var e=this;e.ready&&(e.complete||clearTimeout(e.completing),e.ready=!1,e.complete=!1,e.initialImageData=null,e.initialCanvasData=null,e.initialCropBoxData=null,e.containerData=null,e.canvasData=null,e.cropBoxData=null,e.unbind(),e.resetPreview(),e.previews=null,e.viewBox=null,e.cropBox=null,e.dragBox=null,e.canvas=null,e.container=null,_(e.cropper),e.cropper=null)}}],[{key:"noConflict",value:function(){return window.Cropper=xe,e}},{key:"setDefaults",value:function(e){s(X,r(e)&&e)}}]),e}();return s(Ce.prototype,ce),s(Ce.prototype,se),s(Ce.prototype,fe),s(Ce.prototype,ge),s(Ce.prototype,be),s(Ce.prototype,ve),"undefined"!==typeof window&&(xe=window.Cropper,window.Cropper=Ce),Ce})},980:function(e,t,n){var o=n(981);"string"===typeof o&&(o=[[e.i,o,""]]);var r={};r.transform=void 0;n(974)(o,r);o.locals&&(e.exports=o.locals)},981:function(e,t,n){t=e.exports=n(973)(!1),t.push([e.i,"/*!\n * Cropper.js v1.0.0-rc.3\n * https://github.com/fengyuanchen/cropperjs\n *\n * Copyright (c) 2017 Fengyuan Chen\n * Released under the MIT license\n *\n * Date: 2017-07-07T12:56:42.462Z\n */\n\n.cropper-container {\n  font-size: 0;\n  line-height: 0;\n\n  position: relative;\n\n  -webkit-user-select: none;\n\n     -moz-user-select: none;\n\n      -ms-user-select: none;\n\n          user-select: none;\n\n  direction: ltr;\n  -ms-touch-action: none;\n      touch-action: none\n}\n\n.cropper-container img {\n  /* Avoid margin top issue (Occur only when margin-top <= -height) */\n  display: block;\n  min-width: 0 !important;\n  max-width: none !important;\n  min-height: 0 !important;\n  max-height: none !important;\n  width: 100%;\n  height: 100%;\n  image-orientation: 0deg\n}\n\n.cropper-wrap-box,\n.cropper-canvas,\n.cropper-drag-box,\n.cropper-crop-box,\n.cropper-modal {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n\n.cropper-wrap-box {\n  overflow: hidden;\n}\n\n.cropper-drag-box {\n  opacity: 0;\n  background-color: #fff;\n}\n\n.cropper-modal {\n  opacity: .5;\n  background-color: #000;\n}\n\n.cropper-view-box {\n  display: block;\n  overflow: hidden;\n\n  width: 100%;\n  height: 100%;\n\n  outline: 1px solid #39f;\n  outline-color: rgba(51, 153, 255, 0.75);\n}\n\n.cropper-dashed {\n  position: absolute;\n\n  display: block;\n\n  opacity: .5;\n  border: 0 dashed #eee\n}\n\n.cropper-dashed.dashed-h {\n  top: 33.33333%;\n  left: 0;\n  width: 100%;\n  height: 33.33333%;\n  border-top-width: 1px;\n  border-bottom-width: 1px\n}\n\n.cropper-dashed.dashed-v {\n  top: 0;\n  left: 33.33333%;\n  width: 33.33333%;\n  height: 100%;\n  border-right-width: 1px;\n  border-left-width: 1px\n}\n\n.cropper-center {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  display: block;\n\n  width: 0;\n  height: 0;\n\n  opacity: .75\n}\n\n.cropper-center:before,\n  .cropper-center:after {\n  position: absolute;\n  display: block;\n  content: ' ';\n  background-color: #eee\n}\n\n.cropper-center:before {\n  top: 0;\n  left: -3px;\n  width: 7px;\n  height: 1px\n}\n\n.cropper-center:after {\n  top: -3px;\n  left: 0;\n  width: 1px;\n  height: 7px\n}\n\n.cropper-face,\n.cropper-line,\n.cropper-point {\n  position: absolute;\n\n  display: block;\n\n  width: 100%;\n  height: 100%;\n\n  opacity: .1;\n}\n\n.cropper-face {\n  top: 0;\n  left: 0;\n\n  background-color: #fff;\n}\n\n.cropper-line {\n  background-color: #39f\n}\n\n.cropper-line.line-e {\n  top: 0;\n  right: -3px;\n  width: 5px;\n  cursor: e-resize\n}\n\n.cropper-line.line-n {\n  top: -3px;\n  left: 0;\n  height: 5px;\n  cursor: n-resize\n}\n\n.cropper-line.line-w {\n  top: 0;\n  left: -3px;\n  width: 5px;\n  cursor: w-resize\n}\n\n.cropper-line.line-s {\n  bottom: -3px;\n  left: 0;\n  height: 5px;\n  cursor: s-resize\n}\n\n.cropper-point {\n  width: 5px;\n  height: 5px;\n\n  opacity: .75;\n  background-color: #39f\n}\n\n.cropper-point.point-e {\n  top: 50%;\n  right: -3px;\n  margin-top: -3px;\n  cursor: e-resize\n}\n\n.cropper-point.point-n {\n  top: -3px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: n-resize\n}\n\n.cropper-point.point-w {\n  top: 50%;\n  left: -3px;\n  margin-top: -3px;\n  cursor: w-resize\n}\n\n.cropper-point.point-s {\n  bottom: -3px;\n  left: 50%;\n  margin-left: -3px;\n  cursor: s-resize\n}\n\n.cropper-point.point-ne {\n  top: -3px;\n  right: -3px;\n  cursor: ne-resize\n}\n\n.cropper-point.point-nw {\n  top: -3px;\n  left: -3px;\n  cursor: nw-resize\n}\n\n.cropper-point.point-sw {\n  bottom: -3px;\n  left: -3px;\n  cursor: sw-resize\n}\n\n.cropper-point.point-se {\n  right: -3px;\n  bottom: -3px;\n  width: 20px;\n  height: 20px;\n  cursor: se-resize;\n  opacity: 1\n}\n\n@media (min-width: 768px) {\n\n  .cropper-point.point-se {\n    width: 15px;\n    height: 15px\n  }\n}\n\n@media (min-width: 992px) {\n\n  .cropper-point.point-se {\n    width: 10px;\n    height: 10px\n  }\n}\n\n@media (min-width: 1200px) {\n\n  .cropper-point.point-se {\n    width: 5px;\n    height: 5px;\n    opacity: .75\n  }\n}\n\n.cropper-point.point-se:before {\n  position: absolute;\n  right: -50%;\n  bottom: -50%;\n  display: block;\n  width: 200%;\n  height: 200%;\n  content: ' ';\n  opacity: 0;\n  background-color: #39f\n}\n\n.cropper-invisible {\n  opacity: 0;\n}\n\n.cropper-bg {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC');\n}\n\n.cropper-hide {\n  position: absolute;\n\n  display: block;\n\n  width: 0;\n  height: 0;\n}\n\n.cropper-hidden {\n  display: none !important;\n}\n\n.cropper-move {\n  cursor: move;\n}\n\n.cropper-crop {\n  cursor: crosshair;\n}\n\n.cropper-disabled .cropper-drag-box,\n.cropper-disabled .cropper-face,\n.cropper-disabled .cropper-line,\n.cropper-disabled .cropper-point {\n  cursor: not-allowed;\n}\n\n",""])},982:function(e,t){e.exports=function(e){var t="undefined"!==typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!==typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var a;return a=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},983:function(e,t,n){"use strict";function o(e,t){var n=new FormData;return Object.keys(t).forEach(function(o){o!==e&&n.append(o,t[o])}),Object.keys(t).forEach(function(o){o===e&&t[o].forEach(function(e,t){n.append("image_"+t+"_original",e.originalFile),n.append("image_"+t+"_cropped",e.croppedFile)})}),Object.keys(t).forEach(function(o){o===e&&t[o].forEach(function(e,t){n.append("image_"+t+"_info",[e.tag_id,e.description])})}),n}function r(e,t){var n=(0,i.default)(e);return t.map(function(e){var t=(0,l.flattenObjArray)(n[e],"value");t&&(n[e]=t.toString())}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.createImgFormData=o,t.formatOutMultiselects=r;var a=n(355),i=function(e){return e&&e.__esModule?e:{default:e}}(a),l=n(36)},984:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(c),p=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"renderSelectOptions",value:function(){return this.props.selectItems.map(function(e){return s.default.createElement("option",{key:e.id,value:e.id},e.name)})}},{key:"render",value:function(){var e=this.props,t=e.meta,n=t.touched,o=t.error,r=e.input,a=e.label;return s.default.createElement("div",{className:"form-group"},s.default.createElement("label",{htmlFor:a},a),s.default.createElement("select",i({className:"dropdown-select",value:r.value,onChange:this.handleChange},r),this.renderSelectOptions()),s.default.createElement("div",{className:"error"},n?o:""))}}]),t}(c.Component);t.default=p},985:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),s=o(c),p=n(359),u=o(p);n(986);var d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return i(t,e),l(t,[{key:"handleChange",value:function(e){this.props.input.onChange(e)}},{key:"renderSelectOptions",value:function(){return this.props.selectItems.map(function(e){return{value:e.id,label:e.name}})}},{key:"render",value:function(){var e=this.props,t=e.meta,n=t.touched,o=t.error,r=e.input,a=e.label,i="form-group multiselect "+(n&&o?"has-danger":"");return s.default.createElement("div",{className:i},s.default.createElement("label",{htmlFor:a},a),s.default.createElement(u.default,{name:"form-field-name",value:this.props.input.value,options:this.renderSelectOptions(),onChange:this.handleChange.bind(this),onBlur:function(){return r.onBlur(r.value)},multi:!0,joinValues:!0}),s.default.createElement("div",{className:"error"},n?o:""))}}]),t}(c.Component);t.default=d},986:function(e,t,n){var o=n(987);"string"===typeof o&&(o=[[e.i,o,""]]);var r={};r.transform=void 0;n(974)(o,r);o.locals&&(e.exports=o.locals)},987:function(e,t,n){t=e.exports=n(973)(!1),t.push([e.i,"/**\n * React Select\n * ============\n * Created by Jed Watson and Joss Mackison for KeystoneJS, http://www.keystonejs.com/\n * https://twitter.com/jedwatson https://twitter.com/jossmackison https://twitter.com/keystonejs\n * MIT License: https://github.com/JedWatson/react-select\n*/\n.Select {\n  position: relative;\n}\n.Select input::-webkit-contacts-auto-fill-button,\n.Select input::-webkit-credentials-auto-fill-button {\n  display: none !important;\n}\n.Select input::-ms-clear {\n  display: none !important;\n}\n.Select input::-ms-reveal {\n  display: none !important;\n}\n.Select,\n.Select div,\n.Select input,\n.Select span {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.Select.is-disabled .Select-arrow-zone {\n  cursor: default;\n  pointer-events: none;\n  opacity: 0.35;\n}\n.Select.is-disabled > .Select-control {\n  background-color: #f9f9f9;\n}\n.Select.is-disabled > .Select-control:hover {\n  box-shadow: none;\n}\n.Select.is-open > .Select-control {\n  border-bottom-right-radius: 0;\n  border-bottom-left-radius: 0;\n  background: #fff;\n  border-color: #b3b3b3 #ccc #d9d9d9;\n}\n.Select.is-open > .Select-control .Select-arrow {\n  top: -2px;\n  border-color: transparent transparent #999;\n  border-width: 0 5px 5px;\n}\n.Select.is-searchable.is-open > .Select-control {\n  cursor: text;\n}\n.Select.is-searchable.is-focused:not(.is-open) > .Select-control {\n  cursor: text;\n}\n.Select.is-focused > .Select-control {\n  background: #fff;\n}\n.Select.is-focused:not(.is-open) > .Select-control {\n  border-color: #007eff;\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 0 3px rgba(0, 126, 255, 0.1);\n  background: #fff;\n}\n.Select.has-value.is-clearable.Select--single > .Select-control .Select-value {\n  padding-right: 42px;\n}\n.Select.has-value.Select--single > .Select-control .Select-value .Select-value-label,\n.Select.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value .Select-value-label {\n  color: #333;\n}\n.Select.has-value.Select--single > .Select-control .Select-value a.Select-value-label,\n.Select.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value a.Select-value-label {\n  cursor: pointer;\n  text-decoration: none;\n}\n.Select.has-value.Select--single > .Select-control .Select-value a.Select-value-label:hover,\n.Select.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value a.Select-value-label:hover,\n.Select.has-value.Select--single > .Select-control .Select-value a.Select-value-label:focus,\n.Select.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value a.Select-value-label:focus {\n  color: #007eff;\n  outline: none;\n  text-decoration: underline;\n}\n.Select.has-value.Select--single > .Select-control .Select-value a.Select-value-label:focus,\n.Select.has-value.is-pseudo-focused.Select--single > .Select-control .Select-value a.Select-value-label:focus {\n  background: #fff;\n}\n.Select.has-value.is-pseudo-focused .Select-input {\n  opacity: 0;\n}\n.Select.is-open .Select-arrow,\n.Select .Select-arrow-zone:hover > .Select-arrow {\n  border-top-color: #666;\n}\n.Select.Select--rtl {\n  direction: rtl;\n  text-align: right;\n}\n.Select-control {\n  background-color: #fff;\n  border-color: #d9d9d9 #ccc #b3b3b3;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n  color: #333;\n  cursor: default;\n  display: table;\n  border-spacing: 0;\n  border-collapse: separate;\n  height: 36px;\n  outline: none;\n  overflow: hidden;\n  position: relative;\n  width: 100%;\n}\n.Select-control:hover {\n  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.06);\n}\n.Select-control .Select-input:focus {\n  outline: none;\n  background: #fff;\n}\n.Select-placeholder,\n.Select--single > .Select-control .Select-value {\n  bottom: 0;\n  color: #aaa;\n  left: 0;\n  line-height: 34px;\n  padding-left: 10px;\n  padding-right: 10px;\n  position: absolute;\n  right: 0;\n  top: 0;\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.Select-input {\n  height: 34px;\n  padding-left: 10px;\n  padding-right: 10px;\n  vertical-align: middle;\n}\n.Select-input > input {\n  width: 100%;\n  background: none transparent;\n  border: 0 none;\n  box-shadow: none;\n  cursor: default;\n  display: inline-block;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  outline: none;\n  line-height: 17px;\n  /* For IE 8 compatibility */\n  padding: 8px 0 12px;\n  /* For IE 8 compatibility */\n  -webkit-appearance: none;\n}\n.is-focused .Select-input > input {\n  cursor: text;\n}\n.has-value.is-pseudo-focused .Select-input {\n  opacity: 0;\n}\n.Select-control:not(.is-searchable) > .Select-input {\n  outline: none;\n}\n.Select-loading-zone {\n  cursor: pointer;\n  display: table-cell;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  width: 16px;\n}\n.Select-loading {\n  -webkit-animation: Select-animation-spin 400ms infinite linear;\n  -o-animation: Select-animation-spin 400ms infinite linear;\n  animation: Select-animation-spin 400ms infinite linear;\n  width: 16px;\n  height: 16px;\n  box-sizing: border-box;\n  border-radius: 50%;\n  border: 2px solid #ccc;\n  border-right-color: #333;\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n}\n.Select-clear-zone {\n  -webkit-animation: Select-animation-fadeIn 200ms;\n  -o-animation: Select-animation-fadeIn 200ms;\n  animation: Select-animation-fadeIn 200ms;\n  color: #999;\n  cursor: pointer;\n  display: table-cell;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  width: 17px;\n}\n.Select-clear-zone:hover {\n  color: #D0021B;\n}\n.Select-clear {\n  display: inline-block;\n  font-size: 18px;\n  line-height: 1;\n}\n.Select--multi .Select-clear-zone {\n  width: 17px;\n}\n.Select-arrow-zone {\n  cursor: pointer;\n  display: table-cell;\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  width: 25px;\n  padding-right: 5px;\n}\n.Select--rtl .Select-arrow-zone {\n  padding-right: 0;\n  padding-left: 5px;\n}\n.Select-arrow {\n  border-color: #999 transparent transparent;\n  border-style: solid;\n  border-width: 5px 5px 2.5px;\n  display: inline-block;\n  height: 0;\n  width: 0;\n  position: relative;\n}\n.Select-control > *:last-child {\n  padding-right: 5px;\n}\n.Select--multi .Select-multi-value-wrapper {\n  display: inline-block;\n}\n.Select .Select-aria-only {\n  position: absolute;\n  display: inline-block;\n  height: 1px;\n  width: 1px;\n  margin: -1px;\n  clip: rect(0, 0, 0, 0);\n  overflow: hidden;\n  float: left;\n}\n@-webkit-keyframes Select-animation-fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes Select-animation-fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n.Select-menu-outer {\n  border-bottom-right-radius: 4px;\n  border-bottom-left-radius: 4px;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border-top-color: #e6e6e6;\n  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.06);\n  box-sizing: border-box;\n  margin-top: -1px;\n  max-height: 200px;\n  position: absolute;\n  left: 0;\n  top: 100%;\n  width: 100%;\n  z-index: 1;\n  -webkit-overflow-scrolling: touch;\n}\n.Select-menu {\n  max-height: 198px;\n  overflow-y: auto;\n}\n.Select-option {\n  box-sizing: border-box;\n  background-color: #fff;\n  color: #666666;\n  cursor: pointer;\n  display: block;\n  padding: 8px 10px;\n}\n.Select-option:last-child {\n  border-bottom-right-radius: 4px;\n  border-bottom-left-radius: 4px;\n}\n.Select-option.is-selected {\n  background-color: #f5faff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.04);\n  color: #333;\n}\n.Select-option.is-focused {\n  background-color: #ebf5ff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.08);\n  color: #333;\n}\n.Select-option.is-disabled {\n  color: #cccccc;\n  cursor: default;\n}\n.Select-noresults {\n  box-sizing: border-box;\n  color: #999999;\n  cursor: default;\n  display: block;\n  padding: 8px 10px;\n}\n.Select--multi .Select-input {\n  vertical-align: middle;\n  margin-left: 10px;\n  padding: 0;\n}\n.Select--multi.Select--rtl .Select-input {\n  margin-left: 0;\n  margin-right: 10px;\n}\n.Select--multi.has-value .Select-input {\n  margin-left: 5px;\n}\n.Select--multi .Select-value {\n  background-color: #ebf5ff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.08);\n  border-radius: 2px;\n  border: 1px solid #c2e0ff;\n  /* Fallback color for IE 8 */\n  border: 1px solid rgba(0, 126, 255, 0.24);\n  color: #007eff;\n  display: inline-block;\n  font-size: 0.9em;\n  line-height: 1.4;\n  margin-left: 5px;\n  margin-top: 5px;\n  vertical-align: top;\n}\n.Select--multi .Select-value-icon,\n.Select--multi .Select-value-label {\n  display: inline-block;\n  vertical-align: middle;\n}\n.Select--multi .Select-value-label {\n  border-bottom-right-radius: 2px;\n  border-top-right-radius: 2px;\n  cursor: default;\n  padding: 2px 5px;\n}\n.Select--multi a.Select-value-label {\n  color: #007eff;\n  cursor: pointer;\n  text-decoration: none;\n}\n.Select--multi a.Select-value-label:hover {\n  text-decoration: underline;\n}\n.Select--multi .Select-value-icon {\n  cursor: pointer;\n  border-bottom-left-radius: 2px;\n  border-top-left-radius: 2px;\n  border-right: 1px solid #c2e0ff;\n  /* Fallback color for IE 8 */\n  border-right: 1px solid rgba(0, 126, 255, 0.24);\n  padding: 1px 5px 3px;\n}\n.Select--multi .Select-value-icon:hover,\n.Select--multi .Select-value-icon:focus {\n  background-color: #d8eafd;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 113, 230, 0.08);\n  color: #0071e6;\n}\n.Select--multi .Select-value-icon:active {\n  background-color: #c2e0ff;\n  /* Fallback color for IE 8 */\n  background-color: rgba(0, 126, 255, 0.24);\n}\n.Select--multi.Select--rtl .Select-value {\n  margin-left: 0;\n  margin-right: 5px;\n}\n.Select--multi.Select--rtl .Select-value-icon {\n  border-right: none;\n  border-left: 1px solid #c2e0ff;\n  /* Fallback color for IE 8 */\n  border-left: 1px solid rgba(0, 126, 255, 0.24);\n}\n.Select--multi.is-disabled .Select-value {\n  background-color: #fcfcfc;\n  border: 1px solid #e3e3e3;\n  color: #333;\n}\n.Select--multi.is-disabled .Select-value-icon {\n  cursor: not-allowed;\n  border-right: 1px solid #e3e3e3;\n}\n.Select--multi.is-disabled .Select-value-icon:hover,\n.Select--multi.is-disabled .Select-value-icon:focus,\n.Select--multi.is-disabled .Select-value-icon:active {\n  background-color: #fcfcfc;\n}\n@keyframes Select-animation-spin {\n  to {\n    transform: rotate(1turn);\n  }\n}\n@-webkit-keyframes Select-animation-spin {\n  to {\n    -webkit-transform: rotate(1turn);\n  }\n}\n",""])},988:function(e,t,n){"use strict";function o(e){return i.default.createElement("input",r({type:"hidden",className:"form-control"},e.input))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=o},990:function(e,t,n){"use strict";(function(e){function o(){return function(t){f.default.get(b+"/trees/all").then(function(n){return t({type:g.FETCH_TREES,payload:n.data}),e.resolve()}).catch(function(e){console.log("error fetching trees",e)})}}function r(e){return function(t){f.default.get(b+"/trees/single/"+e).then(function(e){var n={};n=e.data?e.data:{category:[],themes:[],images:null},t({type:g.GET_TREE,payload:n})}).catch(function(e){console.log("error getting tree: ",e)})}}function a(e){var t={headers:{"content-type":"multipart/form-data"}};return function(n){f.default.post(b+"/trees/create",e,t).then(function(e){n(e.data.error?u("There was an error creating the tree: "+e.data.error):{type:g.ADD_TREE,payload:e.data})}).catch(function(e){n(u("there was an error creating the tree: "+e))})}}function i(e){var t={headers:{"content-type":"multipart/form-data"}};return function(n){f.default.post(b+"/trees/update",e,t).then(function(e){n(e.data.error?d("there was an error updating the tree: "+e.data.error):{type:g.UPDATE_TREE,payload:e.data})}).catch(function(e){console.log("there was an error updating the tree: ",e)})}}function l(e,t,n,o){return function(t,n){f.default.post(b+"/trees/delete",{tree:e}).then(function(e){e.data.error?console.log("error: ",e.data.error):t((0,m.searchTrees)(n().globalTrees))}).catch(function(e){console.log("error deleting the tree: ",e)})}}function c(){return{type:g.ADD_TREE,payload:""}}function s(e){return{type:g.ADD_TREE_ERROR,payload:""}}function p(){return{type:g.UPDATE_TREE,payload:""}}function u(e){return{type:g.ADD_TREE_ERROR,payload:e}}function d(e){return{type:g.UPDATE_TREE_ERROR,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTrees=o,t.getTree=r,t.addTree=a,t.updateTree=i,t.deleteTree=l,t.clearTree=c,t.clearTreeError=s,t.clearUpdateTree=p,t.addTreeError=u,t.updateTreeError=d;var h=n(80),f=function(e){return e&&e.__esModule?e:{default:e}}(h),m=n(49),g=n(3),b=n(13).production.SERVER_URL}).call(t,n(26))},993:function(e,t,n){"use strict";function o(){return function(e){a.default.get(l+"/tree_tables/all").then(function(t){e({type:i.FETCH_TREE_TABLES,payload:t.data})}).catch(function(e){console.log("error fetching origins: ",e)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTreeTables=o;var r=n(80),a=function(e){return e&&e.__esModule?e:{default:e}}(r),i=n(3),l=n(13).production.SERVER_URL},994:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),s=o(c),p=n(81),u=n(972),d=o(u),h=n(984),f=o(h),m=n(985),g=o(m),b=n(988),v=o(b),y=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),l(t,[{key:"render",value:function(){return s.default.createElement("div",null,s.default.createElement(p.Field,{name:"tree_id",component:v.default,value:this.props.treeId}),s.default.createElement(p.Field,{type:"input",label:"common name",name:"common_name",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"slug",name:"slug",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"genus_id",label:"genus",component:f.default,selectItems:this.props.treeTables.genuses,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"specific epithet",name:"specific_epithet",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"other species",name:"other_species",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"subspecies",name:"subspecies",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"variety",name:"variety",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"cultivar",name:"cultivar",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"trees_category_id",label:"category",component:f.default,selectItems:this.props.treeTables.trees_category,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"zone",name:"zone_id",component:f.default,selectItems:this.props.treeTables.zones,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"origins",label:"ecoregions",component:g.default,selectItems:this.props.treeTables.origins,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"eco_benefits",label:"eco benefits",component:g.default,selectItems:this.props.treeTables.eco_benefits,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"natural_habitat",label:"natural habitat",component:g.default,selectItems:this.props.treeTables.natural_habitat,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"shapes",label:"shapes",component:g.default,selectItems:this.props.treeTables.shapes,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"light",label:"light",component:g.default,selectItems:this.props.treeTables.light,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"height min",name:"height_min",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"height max",name:"height_max",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"width min",name:"width_min",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"width max",name:"width_max",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"growth rate",name:"growth_rate",component:f.default,selectItems:[{id:"slow",slug:"slow",name:"slow"},{id:"medium",slug:"medium",name:"medium"},{id:"fast",slug:"fast",name:"fast"}],onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"lifespan min",name:"lifespan_min",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{label:"lifespan max",name:"lifespan_max",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"soil",label:"soil",component:g.default,selectItems:this.props.treeTables.soil,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"common_uses",label:"common uses",component:g.default,selectItems:this.props.treeTables.common_uses,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"transplanting",label:"transplanting",component:g.default,selectItems:this.props.treeTables.transplanting,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"unique_attractions",label:"unique attractions",component:g.default,selectItems:this.props.treeTables.unique_attractions,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"tolerances",label:"tolerances",component:g.default,selectItems:this.props.treeTables.tolerances,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"reproduction_type_id",label:"reproduction types",component:f.default,selectItems:this.props.treeTables.reproduction_types,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"insects",label:"insects",component:g.default,selectItems:this.props.treeTables.insects,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{name:"diseases",label:"diseases",component:g.default,selectItems:this.props.treeTables.diseases,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}),s.default.createElement(p.Field,{type:"textarea",label:"body",name:"body",component:d.default,onChange:this.props.onInputChange,onFocus:this.props.onInputChange}))}}]),t}(c.Component);t.default=y}});